import{j as i,r as x}from"./index-BCRtabR4.js";import{B as p}from"./Breadcrumbs-BWvEbg3M.js";import{u}from"./queries-BAqNXMZo.js";import{P as y}from"./ProjectCard-9gquPjmz.js";import"./client-Bix7OX9s.js";const h="_grid_xoeqw_1",v="_card_xoeqw_10",m={grid:h,card:v,"size-10x1":"_size-10x1_xoeqw_16","size-6x1":"_size-6x1_xoeqw_21","size-4x2":"_size-4x2_xoeqw_26","size-4x1":"_size-4x1_xoeqw_31"},f=["10x1","6x1","4x2","6x1","6x1","4x1","4x1","6x1","4x2","6x1","6x1","10x1"];function z({items:t}){const r=t??[];return i.jsx("div",{className:m.grid,"data-bitrix-block":"PROJECTS_GRID",children:r.map((s,e)=>{const o=f[e%f.length],a=m[`size-${o}`]||"";return i.jsx("div",{className:`${m.card} ${a}`,children:i.jsx(y,{project:s,mini:!1})},s.id)})})}function j(t){var r,s,e="";if(typeof t=="string"||typeof t=="number")e+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(r=0;r<o;r++)t[r]&&(s=j(t[r]))&&(e&&(e+=" "),e+=s)}else for(s in t)t[s]&&(e&&(e+=" "),e+=s);return e}function g(){for(var t,r,s=0,e="",o=arguments.length;s<o;s++)(t=arguments[s])&&(r=j(t))&&(e&&(e+=" "),e+=r);return e}const b="_root_8tdiu_1",P="_item_8tdiu_9",N="_active_8tdiu_26",_={root:b,item:P,active:N};function w(t){return typeof t=="string"?{id:t,title:t==="all"?"Все проекты":t}:{id:t.id,title:t.id==="all"?"Все проекты":t.title}}function q({categories:t,value:r,onChange:s,className:e}){const o=t.map(w);return i.jsx("div",{className:g(_.root,e),role:"tablist","aria-label":"Фильтр по категориям",children:o.map(({id:a,title:c})=>{var d;const n=r?r===a:((d=o[0])==null?void 0:d.id)===a;return i.jsx("button",{role:"tab","aria-selected":n,className:g(_.item,n&&_.active),onClick:()=>s(a),type:"button",children:c},a)})})}const A="_title_1l6ce_1",C={title:A},l="all";function B(){const[t,r]=x.useState(l),{data:s}=u({}),e=x.useMemo(()=>Array.from(new Set(((s==null?void 0:s.items)??[]).map(n=>n.category))),[s]),o=x.useMemo(()=>[l,...e],[e]),{data:a}=u(t===l?{}:{category:t}),c=(a==null?void 0:a.items)??[];return i.jsxs(i.Fragment,{children:[i.jsx(p,{}),i.jsxs("div",{className:"container",children:[i.jsx("h1",{className:C.title,children:"Проекты"}),i.jsx(q,{categories:o,value:t,onChange:n=>r(n??l)}),c.length?i.jsx(z,{items:c}):i.jsx("div",{className:"skeleton-page"})]})]})}export{B as default};
