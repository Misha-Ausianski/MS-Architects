import{j as i,r as m}from"./index-CW4-3BX_.js";import{B as p}from"./Breadcrumbs-BqPpM6sj.js";import{u}from"./queries-kmxlpA9a.js";import{P as y}from"./ProjectCard-MGTMSAaS.js";import"./client-B4VHpez7.js";const h="_grid_1oqwj_1",b="_card_1oqwj_10",x={grid:h,card:b,"size-10x1":"_size-10x1_1oqwj_16","size-6x1":"_size-6x1_1oqwj_21","size-4x2":"_size-4x2_1oqwj_26","size-4x1":"_size-4x1_1oqwj_31"},j=["10x1","6x1","4x2","6x1","6x1","4x1","4x1","6x1","4x2","6x1","6x1","10x1"];function v({items:t}){const r=t??[];return i.jsx("div",{className:x.grid,"data-bitrix-block":"PROJECTS_GRID",children:r.map((s,e)=>{const o=j[e%j.length],a=x[`size-${o}`]||"";return i.jsx("div",{className:`${x.card} ${a}`,children:i.jsx(y,{project:s})},s.id)})})}function f(t){var r,s,e="";if(typeof t=="string"||typeof t=="number")e+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(r=0;r<o;r++)t[r]&&(s=f(t[r]))&&(e&&(e+=" "),e+=s)}else for(s in t)t[s]&&(e&&(e+=" "),e+=s);return e}function g(){for(var t,r,s=0,e="",o=arguments.length;s<o;s++)(t=arguments[s])&&(r=f(t))&&(e&&(e+=" "),e+=r);return e}const z="_root_dl1b8_1",P="_item_dl1b8_8",N="_active_dl1b8_25",_={root:z,item:P,active:N};function w(t){return typeof t=="string"?{id:t,title:t==="all"?"Все проекты":t}:{id:t.id,title:t.id==="all"?"Все проекты":t.title}}function q({categories:t,value:r,onChange:s,className:e}){const o=t.map(w);return i.jsx("div",{className:g(_.root,e),role:"tablist","aria-label":"Фильтр по категориям",children:o.map(({id:a,title:c})=>{var d;const n=r?r===a:((d=o[0])==null?void 0:d.id)===a;return i.jsx("button",{role:"tab","aria-selected":n,className:g(_.item,n&&_.active),onClick:()=>s(a),type:"button",children:c},a)})})}const A="_title_1t7kg_1",C={title:A},l="all";function B(){const[t,r]=m.useState(l),{data:s}=u({}),e=m.useMemo(()=>Array.from(new Set(((s==null?void 0:s.items)??[]).map(n=>n.category))),[s]),o=m.useMemo(()=>[l,...e],[e]),{data:a}=u(t===l?{}:{category:t}),c=(a==null?void 0:a.items)??[];return i.jsxs(i.Fragment,{children:[i.jsx(p,{}),i.jsxs("div",{className:"container",children:[i.jsx("h1",{className:C.title,children:"Проекты"}),i.jsx(q,{categories:o,value:t,onChange:n=>r(n??l)}),c.length?i.jsx(v,{items:c}):i.jsx("div",{className:"skeleton-page"})]})]})}export{B as default};
