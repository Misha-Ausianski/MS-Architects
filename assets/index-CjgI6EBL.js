import{r as c,u as j,a as y,j as n,L as w}from"./index-BYViq9V_.js";import{S as v,A as N,P as S,a as P,N as R,b as k}from"./navigation-oGD1PjWT.js";import{B as E}from"./Button-Dq_ajnqS.js";import{u as $}from"./queries-DaCwzMhL.js";import"./client-_uLjnSk7.js";const A="_hero_um8sd_22",I="_slide_um8sd_38",L="_bg_um8sd_44",B="_inner_um8sd_52",C="_tag_um8sd_66",O="_title_um8sd_79",T="_text_um8sd_87",z="_button_um8sd_95",D="_pagination_um8sd_111",H="_bullet_um8sd_124",q="_progress_um8sd_141",s={hero:A,slide:I,bg:L,inner:B,tag:C,title:O,text:T,button:z,pagination:D,bullet:H,progress:q};function M({items:o}){const i=c.useRef(null),u=c.useRef(null),p=j(),{pathname:d}=y(),g=(e,t)=>`<span class="${t} ${s.bullet}" tabindex="0">
       <i class="${s.progress}" data-progress></i>
     </span>`,m=e=>{var a,r,l,_,f,h,x,b;if(!e||!i.current)return;(!e.params.pagination||typeof e.params.pagination=="boolean")&&(e.params.pagination={enabled:!0});const t=e.params.pagination;t.el=i.current,t.clickable=!0,t.renderBullet=g,e.pagination&&((r=(a=e.pagination).destroy)==null||r.call(a),(_=(l=e.pagination).init)==null||_.call(l),(h=(f=e.pagination).render)==null||h.call(f),(b=(x=e.pagination).update)==null||b.call(x))};return c.useEffect(()=>{const e=u.current;if(!e)return;m(e);const t=setTimeout(()=>{var a,r;e.update(),(r=(a=e.pagination)==null?void 0:a.update)==null||r.call(a)},0);return()=>clearTimeout(t)},[d,o.length]),n.jsxs("section",{className:s.hero,"data-bitrix-block":"HERO_SLIDER",children:[n.jsx(v,{modules:[N,S,P,R],onSwiper:e=>{u.current=e},onInit:e=>{m(e)},slidesPerView:1,spaceBetween:0,loop:o.length>1,speed:700,watchOverflow:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,updateOnWindowResize:!0,autoplay:{delay:1e4,disableOnInteraction:!1,pauseOnMouseEnter:!0},simulateTouch:!0,grabCursor:!0,pagination:{enabled:!0,clickable:!0,renderBullet:g},onAfterInit:e=>{var t,a;e.update(),(a=(t=e.pagination)==null?void 0:t.update)==null||a.call(t)},onResize:e=>{var t,a;e.update(),(a=(t=e.pagination)==null?void 0:t.update)==null||a.call(t)},onImagesReady:e=>{var t,a;e.update(),(a=(t=e.pagination)==null?void 0:t.update)==null||a.call(t)},onAutoplayTimeLeft:(e,t,a)=>{var l;const r=(l=i.current)==null?void 0:l.querySelector(".swiper-pagination-bullet-active [data-progress]");r&&r.style.setProperty("--p",`${((1-a)*100).toFixed(0)}%`)},onSlideChange:()=>{var e;(e=i.current)==null||e.querySelectorAll("[data-progress]").forEach(t=>t.style.setProperty("--p","0%"))},children:o.map(e=>n.jsx(k,{children:n.jsxs("div",{className:s.slide,onClick:()=>p(`/projects/${e.slug}`),role:"link",tabIndex:0,onKeyDown:t=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),p(`/projects/${e.slug}`))},children:[n.jsx("img",{className:s.bg,src:e.cover,alt:e.title}),n.jsxs("div",{className:s.inner,children:[e.category&&n.jsx("span",{className:s.tag,children:e.category}),n.jsx("h1",{className:s.title,children:e.title}),e.excerpt&&n.jsx("p",{className:s.text,children:e.excerpt}),n.jsx(w,{to:"/projects",onClick:t=>t.stopPropagation(),className:s.cta,children:n.jsxs(E,{className:s.button,children:["Смотреть все",n.jsx("svg",{width:"8",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M7.75 7 1.5 13.25l-.875-.875L6 7 .625 1.625 1.5.75 7.75 7z",fill:"#fff"})})]})})]})]})},e.slug))},d),n.jsx("div",{className:`${s.pagination} swiper-pagination`,ref:i})]})}function J(){const{data:o}=$({}),i=((o==null?void 0:o.items)??[]).slice(0,3);return n.jsx(M,{items:i})}export{J as default};
