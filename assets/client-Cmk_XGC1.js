var zt=Object.defineProperty;var Tt=e=>{throw TypeError(e)};var $t=(e,t,s)=>t in e?zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var E=(e,t,s)=>$t(e,typeof t!="symbol"?t+"":t,s),it=(e,t,s)=>t.has(e)||Tt("Cannot "+s);var i=(e,t,s)=>(it(e,t,"read from private field"),s?s.call(e):t.get(e)),b=(e,t,s)=>t.has(e)?Tt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),d=(e,t,s,r)=>(it(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),p=(e,t,s)=>(it(e,t,"access private method"),s);import{S as Jt,p as Et,f as v,s as nt,i as B,d as at,k as ht,l as vt,t as Vt,m as Y,o as Wt,q as Xt,v as Ct,n as At,r as O,e as Yt,c as Gt}from"./index-BtbgUzMr.js";var _,h,$,R,U,M,x,I,J,L,D,k,P,q,j,c,Q,ut,ct,lt,ft,dt,pt,yt,Mt,Pt,Kt=(Pt=class extends Jt{constructor(t,s){super();b(this,c);b(this,_);b(this,h);b(this,$);b(this,R);b(this,U);b(this,M);b(this,x);b(this,I);b(this,J);b(this,L);b(this,D);b(this,k);b(this,P);b(this,q);b(this,j,new Set);this.options=s,d(this,_,t),d(this,I,null),d(this,x,Et()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,h).addObserver(this),xt(i(this,h),this.options)?p(this,c,Q).call(this):this.updateResult(),p(this,c,ft).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mt(i(this,h),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mt(i(this,h),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,p(this,c,dt).call(this),p(this,c,pt).call(this),i(this,h).removeObserver(this)}setOptions(t){const s=this.options,r=i(this,h);if(this.options=i(this,_).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof v(this.options.enabled,i(this,h))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");p(this,c,yt).call(this),i(this,h).setOptions(this.options),s._defaulted&&!nt(this.options,s)&&i(this,_).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,h),observer:this});const o=this.hasListeners();o&&Ot(i(this,h),r,this.options,s)&&p(this,c,Q).call(this),this.updateResult(),o&&(i(this,h)!==r||v(this.options.enabled,i(this,h))!==v(s.enabled,i(this,h))||B(this.options.staleTime,i(this,h))!==B(s.staleTime,i(this,h)))&&p(this,c,ut).call(this);const n=p(this,c,ct).call(this);o&&(i(this,h)!==r||v(this.options.enabled,i(this,h))!==v(s.enabled,i(this,h))||n!==i(this,q))&&p(this,c,lt).call(this,n)}getOptimisticResult(t){const s=i(this,_).getQueryCache().build(i(this,_),t),r=this.createResult(s,t);return te(this,r)&&(d(this,R,r),d(this,M,this.options),d(this,U,i(this,h).state)),r}getCurrentResult(){return i(this,R)}trackResult(t,s){return new Proxy(t,{get:(r,o)=>(this.trackProp(o),s==null||s(o),o==="promise"&&!this.options.experimental_prefetchInRender&&i(this,x).status==="pending"&&i(this,x).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,o))})}trackProp(t){i(this,j).add(t)}getCurrentQuery(){return i(this,h)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=i(this,_).defaultQueryOptions(t),r=i(this,_).getQueryCache().build(i(this,_),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return p(this,c,Q).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),i(this,R)))}createResult(t,s){var St;const r=i(this,h),o=this.options,n=i(this,R),a=i(this,U),y=i(this,M),l=t!==r?t.state:i(this,$),{state:g}=t;let u={...g},S=!1,m;if(s._optimisticResults){const T=this.hasListeners(),W=!T&&xt(t,s),A=T&&Ot(t,r,s,o);(W||A)&&(u={...u,...Xt(g.data,t.options)}),s._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:F,errorUpdatedAt:N,status:w}=u;m=u.data;let V=!1;if(s.placeholderData!==void 0&&m===void 0&&w==="pending"){let T;n!=null&&n.isPlaceholderData&&s.placeholderData===(y==null?void 0:y.placeholderData)?(T=n.data,V=!0):T=typeof s.placeholderData=="function"?s.placeholderData((St=i(this,D))==null?void 0:St.state.data,i(this,D)):s.placeholderData,T!==void 0&&(w="success",m=Ct(n==null?void 0:n.data,T,s),S=!0)}if(s.select&&m!==void 0&&!V)if(n&&m===(a==null?void 0:a.data)&&s.select===i(this,J))m=i(this,L);else try{d(this,J,s.select),m=s.select(m),m=Ct(n==null?void 0:n.data,m,s),d(this,L,m),d(this,I,null)}catch(T){d(this,I,T)}i(this,I)&&(F=i(this,I),m=i(this,L),N=Date.now(),w="error");const et=u.fetchStatus==="fetching",st=w==="pending",rt=w==="error",_t=st&&et,wt=m!==void 0,C={status:w,fetchStatus:u.fetchStatus,isPending:st,isSuccess:w==="success",isError:rt,isInitialLoading:_t,isLoading:_t,data:m,dataUpdatedAt:u.dataUpdatedAt,error:F,errorUpdatedAt:N,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:et,isRefetching:et&&!st,isLoadingError:rt&&!wt,isPaused:u.fetchStatus==="paused",isPlaceholderData:S,isRefetchError:rt&&wt,isStale:gt(t,s),refetch:this.refetch,promise:i(this,x),isEnabled:v(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=X=>{C.status==="error"?X.reject(C.error):C.data!==void 0&&X.resolve(C.data)},W=()=>{const X=d(this,x,C.promise=Et());T(X)},A=i(this,x);switch(A.status){case"pending":t.queryHash===r.queryHash&&T(A);break;case"fulfilled":(C.status==="error"||C.data!==A.value)&&W();break;case"rejected":(C.status!=="error"||C.error!==A.reason)&&W();break}}return C}updateResult(){const t=i(this,R),s=this.createResult(i(this,h),this.options);if(d(this,U,i(this,h).state),d(this,M,this.options),i(this,U).data!==void 0&&d(this,D,i(this,h)),nt(s,t))return;d(this,R,s);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,n=typeof o=="function"?o():o;if(n==="all"||!n&&!i(this,j).size)return!0;const a=new Set(n??i(this,j));return this.options.throwOnError&&a.add("error"),Object.keys(i(this,R)).some(y=>{const f=y;return i(this,R)[f]!==t[f]&&a.has(f)})};p(this,c,Mt).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&p(this,c,ft).call(this)}},_=new WeakMap,h=new WeakMap,$=new WeakMap,R=new WeakMap,U=new WeakMap,M=new WeakMap,x=new WeakMap,I=new WeakMap,J=new WeakMap,L=new WeakMap,D=new WeakMap,k=new WeakMap,P=new WeakMap,q=new WeakMap,j=new WeakMap,c=new WeakSet,Q=function(t){p(this,c,yt).call(this);let s=i(this,h).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(at)),s},ut=function(){p(this,c,dt).call(this);const t=B(this.options.staleTime,i(this,h));if(ht||i(this,R).isStale||!vt(t))return;const r=Vt(i(this,R).dataUpdatedAt,t)+1;d(this,k,Y.setTimeout(()=>{i(this,R).isStale||this.updateResult()},r))},ct=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,h)):this.options.refetchInterval)??!1},lt=function(t){p(this,c,pt).call(this),d(this,q,t),!(ht||v(this.options.enabled,i(this,h))===!1||!vt(i(this,q))||i(this,q)===0)&&d(this,P,Y.setInterval(()=>{(this.options.refetchIntervalInBackground||Wt.isFocused())&&p(this,c,Q).call(this)},i(this,q)))},ft=function(){p(this,c,ut).call(this),p(this,c,lt).call(this,p(this,c,ct).call(this))},dt=function(){i(this,k)&&(Y.clearTimeout(i(this,k)),d(this,k,void 0))},pt=function(){i(this,P)&&(Y.clearInterval(i(this,P)),d(this,P,void 0))},yt=function(){const t=i(this,_).getQueryCache().build(i(this,_),this.options);if(t===i(this,h))return;const s=i(this,h);d(this,h,t),d(this,$,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Mt=function(t){At.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(i(this,R))}),i(this,_).getQueryCache().notify({query:i(this,h),type:"observerResultsUpdated"})})},Pt);function Zt(e,t){return v(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function xt(e,t){return Zt(e,t)||e.state.data!==void 0&&mt(e,t,t.refetchOnMount)}function mt(e,t,s){if(v(t.enabled,e)!==!1&&B(t.staleTime,e)!=="static"){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&gt(e,t)}return!1}function Ot(e,t,s,r){return(e!==t||v(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&gt(e,s)}function gt(e,t){return v(t.enabled,e)!==!1&&e.isStaleByTime(B(t.staleTime,e))}function te(e,t){return!nt(e.getCurrentResult(),t)}var Lt=O.createContext(!1),ee=()=>O.useContext(Lt);Lt.Provider;function se(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var re=O.createContext(se()),ie=()=>O.useContext(re),oe=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ne=e=>{O.useEffect(()=>{e.clearReset()},[e])},ae=({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(o&&e.data===void 0||Yt(s,[e.error,r])),he=e=>{if(e.suspense){const s=o=>o==="static"?o:Math.max(o??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...o)=>s(r(...o)):s(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ue=(e,t)=>e.isLoading&&e.isFetching&&!t,ce=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,It=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function le(e,t,s){var u,S,m,F,N;const r=ee(),o=ie(),n=Gt(),a=n.defaultQueryOptions(e);(S=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||S.call(u,a),a._optimisticResults=r?"isRestoring":"optimistic",he(a),oe(a,o),ne(o);const y=!n.getQueryCache().get(a.queryHash),[f]=O.useState(()=>new t(n,a)),l=f.getOptimisticResult(a),g=!r&&e.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(w=>{const V=g?f.subscribe(At.batchCalls(w)):at;return f.updateResult(),V},[f,g]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),O.useEffect(()=>{f.setOptions(a)},[a,f]),ce(a,l))throw It(a,f,o);if(ae({result:l,errorResetBoundary:o,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw l.error;if((F=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||F.call(m,a,l),a.experimental_prefetchInRender&&!ht&&ue(l,r)){const w=y?It(a,f,o):(N=n.getQueryCache().get(a.queryHash))==null?void 0:N.promise;w==null||w.catch(at).finally(()=>{f.updateResult()})}return a.notifyOnChangeProps?l:f.trackResult(l)}function Le(e,t){return le(e,Kt)}class qt extends Error{constructor(s,r,o){const n=s.status||s.status===0?s.status:"",a=s.statusText??"",y=`${n} ${a}`.trim(),f=y?`status code ${y}`:"an unknown error";super(`Request failed with ${f}: ${r.method} ${r.url}`);E(this,"response");E(this,"request");E(this,"options");this.name="HTTPError",this.response=s,this.request=r,this.options=o}}class Dt extends Error{constructor(s){super(`Request timed out: ${s.method} ${s.url}`);E(this,"request");this.name="TimeoutError",this.request=s}}const Ut=(()=>{let e=!1,t=!1;const s=typeof globalThis.ReadableStream=="function",r=typeof globalThis.Request=="function";if(s&&r)try{t=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type")}catch(o){if(o instanceof Error&&o.message==="unsupported BodyInit type")return!1;throw o}return e&&!t})(),fe=typeof globalThis.AbortController=="function",de=typeof globalThis.AbortSignal=="function"&&typeof globalThis.AbortSignal.any=="function",pe=typeof globalThis.ReadableStream=="function",ye=typeof globalThis.FormData=="function",jt=["get","post","put","patch","head","delete"],me={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*",bytes:"*/*"},ot=2147483647,be=new TextEncoder().encode("------WebKitFormBoundaryaxpyiPgbbPti10Rw").length,Ft=Symbol("stop"),ge={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,onUploadProgress:!0,fetch:!0},Re={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},_e=e=>{if(!e)return 0;if(e instanceof FormData){let t=0;for(const[s,r]of e)t+=be,t+=new TextEncoder().encode(`Content-Disposition: form-data; name="${s}"`).length,t+=typeof r=="string"?new TextEncoder().encode(r).length:r.size;return t}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength;if(typeof e=="string")return new TextEncoder().encode(e).length;if(e instanceof URLSearchParams)return new TextEncoder().encode(e.toString()).length;if("byteLength"in e)return e.byteLength;if(typeof e=="object"&&e!==null)try{const t=JSON.stringify(e);return new TextEncoder().encode(t).length}catch{return 0}return 0},Nt=(e,t,s)=>{let r,o=0;return e.pipeThrough(new TransformStream({transform(n,a){if(a.enqueue(n),r){o+=r.byteLength;let y=t===0?0:o/t;y>=1&&(y=1-Number.EPSILON),s==null||s({percent:y,totalBytes:Math.max(t,o),transferredBytes:o},r)}r=n},flush(){r&&(o+=r.byteLength,s==null||s({percent:1,totalBytes:Math.max(t,o),transferredBytes:o},r))}}))},we=(e,t)=>{if(!e.body)return e;if(e.status===204)return new Response(null,{status:e.status,statusText:e.statusText,headers:e.headers});const s=Number(e.headers.get("content-length"))||0;return new Response(Nt(e.body,s,t),{status:e.status,statusText:e.statusText,headers:e.headers})},Se=(e,t,s)=>{if(!e.body)return e;const r=_e(s??e.body);return new Request(e,{duplex:"half",body:Nt(e.body,r,t)})},H=e=>e!==null&&typeof e=="object",G=(...e)=>{for(const t of e)if((!H(t)||Array.isArray(t))&&t!==void 0)throw new TypeError("The `options` argument must be an object");return Rt({},...e)},Qt=(e={},t={})=>{const s=new globalThis.Headers(e),r=t instanceof globalThis.Headers,o=new globalThis.Headers(t);for(const[n,a]of o.entries())r&&a==="undefined"||a===void 0?s.delete(n):s.set(n,a);return s};function K(e,t,s){return Object.hasOwn(t,s)&&t[s]===void 0?[]:Rt(e[s]??[],t[s]??[])}const Ht=(e={},t={})=>({beforeRequest:K(e,t,"beforeRequest"),beforeRetry:K(e,t,"beforeRetry"),afterResponse:K(e,t,"afterResponse"),beforeError:K(e,t,"beforeError")}),Rt=(...e)=>{let t={},s={},r={};for(const o of e)if(Array.isArray(o))Array.isArray(t)||(t=[]),t=[...t,...o];else if(H(o)){for(let[n,a]of Object.entries(o))H(a)&&n in t&&(a=Rt(t[n],a)),t={...t,[n]:a};H(o.hooks)&&(r=Ht(r,o.hooks),t.hooks=r),H(o.headers)&&(s=Qt(s,o.headers),t.headers=s)}return t},Te=e=>jt.includes(e)?e.toUpperCase():e,Ee=["get","put","head","delete","options","trace"],ve=[408,413,429,500,502,503,504],Ce=[413,429,503],kt={limit:2,methods:Ee,statusCodes:ve,afterStatusCodes:Ce,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:e=>.3*2**(e-1)*1e3},xe=(e={})=>{if(typeof e=="number")return{...kt,limit:e};if(e.methods&&!Array.isArray(e.methods))throw new Error("retry.methods must be an array");if(e.statusCodes&&!Array.isArray(e.statusCodes))throw new Error("retry.statusCodes must be an array");return{...kt,...e}};async function Oe(e,t,s,r){return new Promise((o,n)=>{const a=setTimeout(()=>{s&&s.abort(),n(new Dt(e))},r.timeout);r.fetch(e,t).then(o).catch(n).then(()=>{clearTimeout(a)})})}async function Ie(e,{signal:t}){return new Promise((s,r)=>{t&&(t.throwIfAborted(),t.addEventListener("abort",o,{once:!0}));function o(){clearTimeout(n),r(t.reason)}const n=setTimeout(()=>{t==null||t.removeEventListener("abort",o),s()},e)})}const qe=(e,t)=>{const s={};for(const r in t)!(r in Re)&&!(r in ge)&&!(r in e)&&(s[r]=t[r]);return s},Ue=e=>e===void 0?!1:Array.isArray(e)?e.length>0:e instanceof URLSearchParams?e.size>0:typeof e=="object"?Object.keys(e).length>0:typeof e=="string"?e.trim().length>0:!!e;var tt,Bt;const z=class z{constructor(t,s={}){E(this,"request");E(this,"abortController");E(this,"_retryCount",0);E(this,"_input");E(this,"_options");E(this,"_originalRequest");var r,o,n;if(this._input=t,this._options={...s,headers:Qt(this._input.headers,s.headers),hooks:Ht({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},s.hooks),method:Te(s.method??this._input.method??"GET"),prefixUrl:String(s.prefixUrl||""),retry:xe(s.retry),throwHttpErrors:s.throwHttpErrors!==!1,timeout:s.timeout??1e4,fetch:s.fetch??globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(fe&&de){const a=this._options.signal??this._input.signal;this.abortController=new globalThis.AbortController,this._options.signal=a?AbortSignal.any([a,this.abortController.signal]):this.abortController.signal}if(Ut&&(this._options.duplex="half"),this._options.json!==void 0&&(this._options.body=((o=(r=this._options).stringifyJson)==null?void 0:o.call(r,this._options.json))??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new globalThis.Request(this._input,this._options),Ue(this._options.searchParams)){const y="?"+(typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(p(n=z,tt,Bt).call(n,this._options.searchParams)).toString()),f=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,y);(ye&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(f,{...this.request}),this._options)}if(this._options.onUploadProgress){if(typeof this._options.onUploadProgress!="function")throw new TypeError("The `onUploadProgress` option must be a function");if(!Ut)throw new Error("Request streams are not supported in your environment. The `duplex` option for `Request` is not available.");this.request.body&&(this.request=Se(this.request,this._options.onUploadProgress,this._options.body))}}static create(t,s){var y,f;const r=new z(t,s),o=async()=>{if(typeof r._options.timeout=="number"&&r._options.timeout>ot)throw new RangeError(`The \`timeout\` option cannot be greater than ${ot}`);await Promise.resolve();let l=await r._fetch();for(const g of r._options.hooks.afterResponse){const u=await g(r.request,r._options,r._decorateResponse(l.clone()));u instanceof globalThis.Response&&(l=u)}if(r._decorateResponse(l),!l.ok&&r._options.throwHttpErrors){let g=new qt(l,r.request,r._options);for(const u of r._options.hooks.beforeError)g=await u(g);throw g}if(r._options.onDownloadProgress){if(typeof r._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!pe)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return we(l.clone(),r._options.onDownloadProgress)}return l},a=(r._options.retry.methods.includes(r.request.method.toLowerCase())?r._retry(o):o()).finally(async()=>{var u,S;const l=r._originalRequest,g=[];l&&!l.bodyUsed&&g.push((u=l.body)==null?void 0:u.cancel()),r.request.bodyUsed||g.push((S=r.request.body)==null?void 0:S.cancel()),await Promise.all(g)});for(const[l,g]of Object.entries(me))l==="bytes"&&typeof((f=(y=globalThis.Response)==null?void 0:y.prototype)==null?void 0:f.bytes)!="function"||(a[l]=async()=>{r.request.headers.set("accept",r.request.headers.get("accept")||g);const u=await a;if(l==="json"){if(u.status===204)return"";const S=await u.text();return S===""?"":s.parseJson?s.parseJson(S):JSON.parse(S)}return u[l]()});return a}_calculateRetryDelay(t){if(this._retryCount++,this._retryCount>this._options.retry.limit||t instanceof Dt)throw t;if(t instanceof qt){if(!this._options.retry.statusCodes.includes(t.response.status))throw t;const r=t.response.headers.get("Retry-After")??t.response.headers.get("RateLimit-Reset")??t.response.headers.get("X-RateLimit-Reset")??t.response.headers.get("X-Rate-Limit-Reset");if(r&&this._options.retry.afterStatusCodes.includes(t.response.status)){let o=Number(r)*1e3;Number.isNaN(o)?o=Date.parse(r)-Date.now():o>=Date.parse("2024-01-01")&&(o-=Date.now());const n=this._options.retry.maxRetryAfter??o;return o<n?o:n}if(t.response.status===413)throw t}const s=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,s)}_decorateResponse(t){return this._options.parseJson&&(t.json=async()=>this._options.parseJson(await t.text())),t}async _retry(t){try{return await t()}catch(s){const r=Math.min(this._calculateRetryDelay(s),ot);if(this._retryCount<1)throw s;await Ie(r,{signal:this._options.signal});for(const o of this._options.hooks.beforeRetry)if(await o({request:this.request,options:this._options,error:s,retryCount:this._retryCount})===Ft)return;return this._retry(t)}}async _fetch(){for(const s of this._options.hooks.beforeRequest){const r=await s(this.request,this._options);if(r instanceof Request){this.request=r;break}if(r instanceof Response)return r}const t=qe(this.request,this._options);return this._originalRequest=this.request,this.request=this._originalRequest.clone(),this._options.timeout===!1?this._options.fetch(this._originalRequest,t):Oe(this._originalRequest,t,this.abortController,this._options)}};tt=new WeakSet,Bt=function(t){return t&&typeof t=="object"&&!Array.isArray(t)&&!(t instanceof URLSearchParams)?Object.fromEntries(Object.entries(t).filter(([,s])=>s!==void 0)):t},b(z,tt);let Z=z;/*! MIT License © Sindre Sorhus */const bt=e=>{const t=(s,r)=>Z.create(s,G(e,r));for(const s of jt)t[s]=(r,o)=>Z.create(r,G(e,o,{method:s}));return t.create=s=>bt(G(s)),t.extend=s=>(typeof s=="function"&&(s=s(e??{})),bt(G(e,s))),t.stop=Ft,t},ke=bt(),De=ke.create({prefixUrl:"/MS-Architects/api/",headers:{Accept:"application/json"},timeout:8e3});async function je(e){return await(await e).json()}export{De as a,je as s,Le as u};
