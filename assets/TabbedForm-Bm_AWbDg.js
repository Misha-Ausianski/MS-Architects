var nt=e=>{throw TypeError(e)};var Ie=(e,t,s)=>t.has(e)||nt("Cannot "+s);var A=(e,t,s)=>(Ie(e,t,"read from private field"),s?s.call(e):t.get(e)),he=(e,t,s)=>t.has(e)?nt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),ye=(e,t,s,i)=>(Ie(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s),be=(e,t,s)=>(Ie(e,t,"access private method"),s);import{S as It,s as Bt,h as lt,g as Pt,n as Ft,c as qt,r as se,d as $t,e as Wt,R as q,j as m,N as Kt}from"./index-D6PfprTE.js";import{T as Ht}from"./Tabs-CF44Ppax.js";import{B as Jt}from"./Button-CSvJ75jO.js";var ee,ue,B,te,re,Ee,qe,_t,zt=(_t=class extends It{constructor(t,s){super();he(this,re);he(this,ee);he(this,ue);he(this,B);he(this,te);ye(this,ee,t),this.setOptions(s),this.bindMethods(),be(this,re,Ee).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const s=this.options;this.options=A(this,ee).defaultMutationOptions(t),Bt(this.options,s)||A(this,ee).getMutationCache().notify({type:"observerOptionsUpdated",mutation:A(this,B),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&lt(s.mutationKey)!==lt(this.options.mutationKey)?this.reset():((i=A(this,B))==null?void 0:i.state.status)==="pending"&&A(this,B).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=A(this,B))==null||t.removeObserver(this)}onMutationUpdate(t){be(this,re,Ee).call(this),be(this,re,qe).call(this,t)}getCurrentResult(){return A(this,ue)}reset(){var t;(t=A(this,B))==null||t.removeObserver(this),ye(this,B,void 0),be(this,re,Ee).call(this),be(this,re,qe).call(this)}mutate(t,s){var i;return ye(this,te,s),(i=A(this,B))==null||i.removeObserver(this),ye(this,B,A(this,ee).getMutationCache().build(A(this,ee),this.options)),A(this,B).addObserver(this),A(this,B).execute(t)}},ee=new WeakMap,ue=new WeakMap,B=new WeakMap,te=new WeakMap,re=new WeakSet,Ee=function(){var s;const t=((s=A(this,B))==null?void 0:s.state)??Pt();ye(this,ue,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},qe=function(t){Ft.batch(()=>{var s,i,o,l,d,f,C,M;if(A(this,te)&&this.hasListeners()){const v=A(this,ue).variables,V=A(this,ue).context,g={client:A(this,ee),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((i=(s=A(this,te)).onSuccess)==null||i.call(s,t.data,v,V,g),(l=(o=A(this,te)).onSettled)==null||l.call(o,t.data,null,v,V,g)):(t==null?void 0:t.type)==="error"&&((f=(d=A(this,te)).onError)==null||f.call(d,t.error,v,V,g),(M=(C=A(this,te)).onSettled)==null||M.call(C,void 0,t.error,v,V,g))}this.listeners.forEach(v=>{v(A(this,ue))})})},_t);function Qt(e,t){const s=qt(),[i]=se.useState(()=>new zt(s,e));se.useEffect(()=>{i.setOptions(e)},[i,e]);const o=se.useSyncExternalStore(se.useCallback(d=>i.subscribe(Ft.batchCalls(d)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=se.useCallback((d,f)=>{i.mutate(d,f).catch($t)},[i]);if(o.error&&Wt(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}var we=e=>e.type==="checkbox",de=e=>e instanceof Date,U=e=>e==null;const Vt=e=>typeof e=="object";var p=e=>!U(e)&&!Array.isArray(e)&&Vt(e)&&!de(e),Yt=e=>p(e)&&e.target?we(e.target)?e.target.checked:e.target.value:e,Xt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Zt=(e,t)=>e.has(Xt(t)),Gt=e=>{const t=e.constructor&&e.constructor.prototype;return p(t)&&t.hasOwnProperty("isPrototypeOf")},Ke=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function j(e){let t;const s=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Ke&&(e instanceof Blob||i))&&(s||p(e)))if(t=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!Gt(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=j(e[o]));else return e;return t}var Ce=e=>/^\w*$/.test(e),O=e=>e===void 0,He=e=>Array.isArray(e)?e.filter(Boolean):[],Je=e=>He(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,t,s)=>{if(!t||!p(e))return s;const i=(Ce(t)?[t]:Je(t)).reduce((o,l)=>U(o)?o:o[l],e);return O(i)||i===e?O(e[t])?s:e[t]:i},X=e=>typeof e=="boolean",S=(e,t,s)=>{let i=-1;const o=Ce(t)?[t]:Je(t),l=o.length,d=l-1;for(;++i<l;){const f=o[i];let C=s;if(i!==d){const M=e[f];C=p(M)||Array.isArray(M)?M:isNaN(+o[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=C,e=e[f]}};const ot={BLUR:"blur",FOCUS_OUT:"focusout"},H={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},G={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},es=q.createContext(null);es.displayName="HookFormContext";var ts=(e,t,s,i=!0)=>{const o={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(o,l,{get:()=>{const d=l;return t._proxyFormState[d]!==H.all&&(t._proxyFormState[d]=!i||H.all),e[d]}});return o};const ss=typeof window<"u"?q.useLayoutEffect:q.useEffect;var $=e=>typeof e=="string",rs=(e,t,s,i,o)=>$(e)?(i&&t.watch.add(e),y(s,e,o)):Array.isArray(e)?e.map(l=>(i&&t.watch.add(l),y(s,l))):(i&&(t.watchAll=!0),s),$e=e=>U(e)||!Vt(e);function oe(e,t,s=new WeakSet){if($e(e)||$e(t))return e===t;if(de(e)&&de(t))return e.getTime()===t.getTime();const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const l of i){const d=e[l];if(!o.includes(l))return!1;if(l!=="ref"){const f=t[l];if(de(d)&&de(f)||p(d)&&p(f)||Array.isArray(d)&&Array.isArray(f)?!oe(d,f,s):d!==f)return!1}}return!0}var is=(e,t,s,i,o)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[i]:o||!0}}:{},Fe=e=>Array.isArray(e)?e:[e],ut=()=>{let e=[];return{get observers(){return e},next:o=>{for(const l of e)l.next&&l.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(l=>l!==o)}}),unsubscribe:()=>{e=[]}}};function wt(e,t){const s={};for(const i in e)if(e.hasOwnProperty(i)){const o=e[i],l=t[i];if(o&&p(o)&&l){const d=wt(o,l);p(d)&&(s[i]=d)}else e[i]&&(s[i]=l)}return s}var P=e=>p(e)&&!Object.keys(e).length,ze=e=>e.type==="file",J=e=>typeof e=="function",Oe=e=>{if(!Ke)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},kt=e=>e.type==="select-multiple",Qe=e=>e.type==="radio",as=e=>Qe(e)||we(e),Be=e=>Oe(e)&&e.isConnected;function ns(e,t){const s=t.slice(0,-1).length;let i=0;for(;i<s;)e=O(e)?i++:e[t[i++]];return e}function ls(e){for(const t in e)if(e.hasOwnProperty(t)&&!O(e[t]))return!1;return!0}function E(e,t){const s=Array.isArray(t)?t:Ce(t)?[t]:Je(t),i=s.length===1?e:ns(e,s),o=s.length-1,l=s[o];return i&&delete i[l],o!==0&&(p(i)&&P(i)||Array.isArray(i)&&ls(i))&&E(e,s.slice(0,-1)),e}var os=e=>{for(const t in e)if(J(e[t]))return!0;return!1};function At(e){return Array.isArray(e)||p(e)&&!os(e)}function We(e,t={}){for(const s in e)At(e[s])?(t[s]=Array.isArray(e[s])?[]:{},We(e[s],t[s])):U(e[s])||(t[s]=!0);return t}function ve(e,t,s){s||(s=We(t));for(const i in e)At(e[i])?O(t)||$e(s[i])?s[i]=We(e[i],Array.isArray(e[i])?[]:{}):ve(e[i],U(t)?{}:t[i],s[i]):s[i]=!oe(e[i],t[i]);return s}const ct={value:!1,isValid:!1},dt={value:!0,isValid:!0};var St=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!O(e[0].attributes.value)?O(e[0].value)||e[0].value===""?dt:{value:e[0].value,isValid:!0}:dt:ct}return ct},Dt=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:i})=>O(e)?e:t?e===""?NaN:e&&+e:s&&$(e)?new Date(e):i?i(e):e;const ft={isValid:!1,value:null};var Et=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,ft):ft;function ht(e){const t=e.ref;return ze(t)?t.files:Qe(t)?Et(e.refs).value:kt(t)?[...t.selectedOptions].map(({value:s})=>s):we(t)?St(e.refs).value:Dt(O(t.value)?e.ref.value:t.value,e)}var us=(e,t,s,i)=>{const o={};for(const l of e){const d=y(t,l);d&&S(o,l,d._f)}return{criteriaMode:s,names:[...e],fields:o,shouldUseNativeValidation:i}},pe=e=>e instanceof RegExp,_e=e=>O(e)?e:pe(e)?e.source:p(e)?pe(e.value)?e.value.source:e.value:e,yt=e=>({isOnSubmit:!e||e===H.onSubmit,isOnBlur:e===H.onBlur,isOnChange:e===H.onChange,isOnAll:e===H.all,isOnTouch:e===H.onTouched});const bt="AsyncFunction";var cs=e=>!!e&&!!e.validate&&!!(J(e.validate)&&e.validate.constructor.name===bt||p(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===bt)),ds=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),gt=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Ve=(e,t,s,i)=>{for(const o of s||Object.keys(e)){const l=y(e,o);if(l){const{_f:d,...f}=l;if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!i)return!0;if(d.ref&&t(d.ref,d.name)&&!i)return!0;if(Ve(f,t))break}else if(p(f)&&Ve(f,t))break}}};function vt(e,t,s){const i=y(e,s);if(i||Ce(s))return{error:i,name:s};const o=s.split(".");for(;o.length;){const l=o.join("."),d=y(t,l),f=y(e,l);if(d&&!Array.isArray(d)&&s!==l)return{name:s};if(f&&f.type)return{name:l,error:f};if(f&&f.root&&f.root.type)return{name:`${l}.root`,error:f.root};o.pop()}return{name:s}}var fs=(e,t,s,i)=>{s(e);const{name:o,...l}=e;return P(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(d=>t[d]===(!i||H.all))},hs=(e,t,s)=>!e||!t||e===t||Fe(e).some(i=>i&&(s?i===t:i.startsWith(t)||t.startsWith(i))),ys=(e,t,s,i,o)=>o.isOnAll?!1:!s&&o.isOnTouch?!(t||e):(s?i.isOnBlur:o.isOnBlur)?!e:(s?i.isOnChange:o.isOnChange)?e:!0,bs=(e,t)=>!He(y(e,t)).length&&E(e,t),gs=(e,t,s)=>{const i=Fe(y(e,s));return S(i,"root",t[s]),S(e,s,i),e};function mt(e,t,s="validate"){if($(e)||Array.isArray(e)&&e.every($)||X(e)&&!e)return{type:s,message:$(e)?e:"",ref:t}}var ge=e=>p(e)&&!pe(e)?e:{value:e,message:""},xt=async(e,t,s,i,o,l)=>{const{ref:d,refs:f,required:C,maxLength:M,minLength:v,min:V,max:g,pattern:me,validate:ie,name:N,valueAsNumber:ae,mount:Ne}=e._f,_=y(s,N);if(!Ne||t.has(N))return{};const Z=f?f[0]:d,z=x=>{o&&Z.reportValidity&&(Z.setCustomValidity(X(x)?"":x||""),Z.reportValidity())},T={},ke=Qe(d),ne=we(d),Te=ke||ne,K=(ae||ze(d))&&O(d.value)&&O(_)||Oe(d)&&d.value===""||_===""||Array.isArray(_)&&!_.length,ce=is.bind(null,N,i,T),Q=(x,w,D,L=G.maxLength,I=G.minLength)=>{const Y=x?w:D;T[N]={type:x?L:I,message:Y,ref:d,...ce(x?L:I,Y)}};if(l?!Array.isArray(_)||!_.length:C&&(!Te&&(K||U(_))||X(_)&&!_||ne&&!St(f).isValid||ke&&!Et(f).isValid)){const{value:x,message:w}=$(C)?{value:!!C,message:C}:ge(C);if(x&&(T[N]={type:G.required,message:w,ref:Z,...ce(G.required,w)},!i))return z(w),T}if(!K&&(!U(V)||!U(g))){let x,w;const D=ge(g),L=ge(V);if(!U(_)&&!isNaN(_)){const I=d.valueAsNumber||_&&+_;U(D.value)||(x=I>D.value),U(L.value)||(w=I<L.value)}else{const I=d.valueAsDate||new Date(_),Y=Ae=>new Date(new Date().toDateString()+" "+Ae),xe=d.type=="time",fe=d.type=="week";$(D.value)&&_&&(x=xe?Y(_)>Y(D.value):fe?_>D.value:I>new Date(D.value)),$(L.value)&&_&&(w=xe?Y(_)<Y(L.value):fe?_<L.value:I<new Date(L.value))}if((x||w)&&(Q(!!x,D.message,L.message,G.max,G.min),!i))return z(T[N].message),T}if((M||v)&&!K&&($(_)||l&&Array.isArray(_))){const x=ge(M),w=ge(v),D=!U(x.value)&&_.length>+x.value,L=!U(w.value)&&_.length<+w.value;if((D||L)&&(Q(D,x.message,w.message),!i))return z(T[N].message),T}if(me&&!K&&$(_)){const{value:x,message:w}=ge(me);if(pe(x)&&!_.match(x)&&(T[N]={type:G.pattern,message:w,ref:d,...ce(G.pattern,w)},!i))return z(w),T}if(ie){if(J(ie)){const x=await ie(_,s),w=mt(x,Z);if(w&&(T[N]={...w,...ce(G.validate,w.message)},!i))return z(w.message),T}else if(p(ie)){let x={};for(const w in ie){if(!P(x)&&!i)break;const D=mt(await ie[w](_,s),Z,w);D&&(x={...D,...ce(w,D.message)},z(D.message),i&&(T[N]=x))}if(!P(x)&&(T[N]={ref:Z,...x},!i))return T}}return z(!0),T};const vs={mode:H.onSubmit,reValidateMode:H.onChange,shouldFocusError:!0};function ms(e={}){let t={...vs,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:J(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},o=p(t.defaultValues)||p(t.values)?j(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:j(o),d={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},C,M=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let V={...v};const g={array:ut(),state:ut()},me=t.criteriaMode===H.all,ie=r=>a=>{clearTimeout(M),M=setTimeout(r,a)},N=async r=>{if(!t.disabled&&(v.isValid||V.isValid||r)){const a=t.resolver?P((await ne()).errors):await K(i,!0);a!==s.isValid&&g.state.next({isValid:a})}},ae=(r,a)=>{!t.disabled&&(v.isValidating||v.validatingFields||V.isValidating||V.validatingFields)&&((r||Array.from(f.mount)).forEach(n=>{n&&(a?S(s.validatingFields,n,a):E(s.validatingFields,n))}),g.state.next({validatingFields:s.validatingFields,isValidating:!P(s.validatingFields)}))},Ne=(r,a=[],n,h,c=!0,u=!0)=>{if(h&&n&&!t.disabled){if(d.action=!0,u&&Array.isArray(y(i,r))){const b=n(y(i,r),h.argA,h.argB);c&&S(i,r,b)}if(u&&Array.isArray(y(s.errors,r))){const b=n(y(s.errors,r),h.argA,h.argB);c&&S(s.errors,r,b),bs(s.errors,r)}if((v.touchedFields||V.touchedFields)&&u&&Array.isArray(y(s.touchedFields,r))){const b=n(y(s.touchedFields,r),h.argA,h.argB);c&&S(s.touchedFields,r,b)}(v.dirtyFields||V.dirtyFields)&&(s.dirtyFields=ve(o,l)),g.state.next({name:r,isDirty:Q(r,a),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else S(l,r,a)},_=(r,a)=>{S(s.errors,r,a),g.state.next({errors:s.errors})},Z=r=>{s.errors=r,g.state.next({errors:s.errors,isValid:!1})},z=(r,a,n,h)=>{const c=y(i,r);if(c){const u=y(l,r,O(n)?y(o,r):n);O(u)||h&&h.defaultChecked||a?S(l,r,a?u:ht(c._f)):D(r,u),d.mount&&N()}},T=(r,a,n,h,c)=>{let u=!1,b=!1;const F={name:r};if(!t.disabled){if(!n||h){(v.isDirty||V.isDirty)&&(b=s.isDirty,s.isDirty=F.isDirty=Q(),u=b!==F.isDirty);const k=oe(y(o,r),a);b=!!y(s.dirtyFields,r),k?E(s.dirtyFields,r):S(s.dirtyFields,r,!0),F.dirtyFields=s.dirtyFields,u=u||(v.dirtyFields||V.dirtyFields)&&b!==!k}if(n){const k=y(s.touchedFields,r);k||(S(s.touchedFields,r,n),F.touchedFields=s.touchedFields,u=u||(v.touchedFields||V.touchedFields)&&k!==n)}u&&c&&g.state.next(F)}return u?F:{}},ke=(r,a,n,h)=>{const c=y(s.errors,r),u=(v.isValid||V.isValid)&&X(a)&&s.isValid!==a;if(t.delayError&&n?(C=ie(()=>_(r,n)),C(t.delayError)):(clearTimeout(M),C=null,n?S(s.errors,r,n):E(s.errors,r)),(n?!oe(c,n):c)||!P(h)||u){const b={...h,...u&&X(a)?{isValid:a}:{},errors:s.errors,name:r};s={...s,...b},g.state.next(b)}},ne=async r=>{ae(r,!0);const a=await t.resolver(l,t.context,us(r||f.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return ae(r),a},Te=async r=>{const{errors:a}=await ne(r);if(r)for(const n of r){const h=y(a,n);h?S(s.errors,n,h):E(s.errors,n)}else s.errors=a;return a},K=async(r,a,n={valid:!0})=>{for(const h in r){const c=r[h];if(c){const{_f:u,...b}=c;if(u){const F=f.array.has(u.name),k=c._f&&cs(c._f);k&&v.validatingFields&&ae([u.name],!0);const W=await xt(c,f.disabled,l,me,t.shouldUseNativeValidation&&!a,F);if(k&&v.validatingFields&&ae([u.name]),W[u.name]&&(n.valid=!1,a))break;!a&&(y(W,u.name)?F?gs(s.errors,W,u.name):S(s.errors,u.name,W[u.name]):E(s.errors,u.name))}!P(b)&&await K(b,a,n)}}return n.valid},ce=()=>{for(const r of f.unMount){const a=y(i,r);a&&(a._f.refs?a._f.refs.every(n=>!Be(n)):!Be(a._f.ref))&&Re(r)}f.unMount=new Set},Q=(r,a)=>!t.disabled&&(r&&a&&S(l,r,a),!oe(Ae(),o)),x=(r,a,n)=>rs(r,f,{...d.mount?l:O(a)?o:$(r)?{[r]:a}:a},n,a),w=r=>He(y(d.mount?l:o,r,t.shouldUnregister?y(o,r,[]):[])),D=(r,a,n={})=>{const h=y(i,r);let c=a;if(h){const u=h._f;u&&(!u.disabled&&S(l,r,Dt(a,u)),c=Oe(u.ref)&&U(a)?"":a,kt(u.ref)?[...u.ref.options].forEach(b=>b.selected=c.includes(b.value)):u.refs?we(u.ref)?u.refs.forEach(b=>{(!b.defaultChecked||!b.disabled)&&(Array.isArray(c)?b.checked=!!c.find(F=>F===b.value):b.checked=c===b.value||!!c)}):u.refs.forEach(b=>b.checked=b.value===c):ze(u.ref)?u.ref.value="":(u.ref.value=c,u.ref.type||g.state.next({name:r,values:j(l)})))}(n.shouldDirty||n.shouldTouch)&&T(r,c,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&fe(r)},L=(r,a,n)=>{for(const h in a){if(!a.hasOwnProperty(h))return;const c=a[h],u=r+"."+h,b=y(i,u);(f.array.has(r)||p(c)||b&&!b._f)&&!de(c)?L(u,c,n):D(u,c,n)}},I=(r,a,n={})=>{const h=y(i,r),c=f.array.has(r),u=j(a);S(l,r,u),c?(g.array.next({name:r,values:j(l)}),(v.isDirty||v.dirtyFields||V.isDirty||V.dirtyFields)&&n.shouldDirty&&g.state.next({name:r,dirtyFields:ve(o,l),isDirty:Q(r,u)})):h&&!h._f&&!U(u)?L(r,u,n):D(r,u,n),gt(r,f)&&g.state.next({...s,name:r}),g.state.next({name:d.mount?r:void 0,values:j(l)})},Y=async r=>{d.mount=!0;const a=r.target;let n=a.name,h=!0;const c=y(i,n),u=k=>{h=Number.isNaN(k)||de(k)&&isNaN(k.getTime())||oe(k,y(l,n,k))},b=yt(t.mode),F=yt(t.reValidateMode);if(c){let k,W;const Se=a.type?ht(c._f):Yt(r),le=r.type===ot.BLUR||r.type===ot.FOCUS_OUT,Mt=!ds(c._f)&&!t.resolver&&!y(s.errors,n)&&!c._f.deps||ys(le,y(s.touchedFields,n),s.isSubmitted,F,b),Le=gt(n,f,le);S(l,n,Se),le?(!a||!a.readOnly)&&(c._f.onBlur&&c._f.onBlur(r),C&&C(0)):c._f.onChange&&c._f.onChange(r);const Ue=T(n,Se,le),Lt=!P(Ue)||Le;if(!le&&g.state.next({name:n,type:r.type,values:j(l)}),Mt)return(v.isValid||V.isValid)&&(t.mode==="onBlur"?le&&N():le||N()),Lt&&g.state.next({name:n,...Le?{}:Ue});if(!le&&Le&&g.state.next({...s}),t.resolver){const{errors:it}=await ne([n]);if(u(Se),h){const Ut=vt(s.errors,i,n),at=vt(it,i,Ut.name||n);k=at.error,n=at.name,W=P(it)}}else ae([n],!0),k=(await xt(c,f.disabled,l,me,t.shouldUseNativeValidation))[n],ae([n]),u(Se),h&&(k?W=!1:(v.isValid||V.isValid)&&(W=await K(i,!0)));h&&(c._f.deps&&(!Array.isArray(c._f.deps)||c._f.deps.length>0)&&fe(c._f.deps),ke(n,W,k,Ue))}},xe=(r,a)=>{if(y(s.errors,a)&&r.focus)return r.focus(),1},fe=async(r,a={})=>{let n,h;const c=Fe(r);if(t.resolver){const u=await Te(O(r)?r:c);n=P(u),h=r?!c.some(b=>y(u,b)):n}else r?(h=(await Promise.all(c.map(async u=>{const b=y(i,u);return await K(b&&b._f?{[u]:b}:b)}))).every(Boolean),!(!h&&!s.isValid)&&N()):h=n=await K(i);return g.state.next({...!$(r)||(v.isValid||V.isValid)&&n!==s.isValid?{}:{name:r},...t.resolver||!r?{isValid:n}:{},errors:s.errors}),a.shouldFocus&&!h&&Ve(i,xe,r?c:f.mount),h},Ae=(r,a)=>{let n={...d.mount?l:o};return a&&(n=wt(a.dirtyFields?s.dirtyFields:s.touchedFields,n)),O(r)?n:$(r)?y(n,r):r.map(h=>y(n,h))},Ye=(r,a)=>({invalid:!!y((a||s).errors,r),isDirty:!!y((a||s).dirtyFields,r),error:y((a||s).errors,r),isValidating:!!y(s.validatingFields,r),isTouched:!!y((a||s).touchedFields,r)}),Ot=r=>{r&&Fe(r).forEach(a=>E(s.errors,a)),g.state.next({errors:r?s.errors:{}})},Xe=(r,a,n)=>{const h=(y(i,r,{_f:{}})._f||{}).ref,c=y(s.errors,r)||{},{ref:u,message:b,type:F,...k}=c;S(s.errors,r,{...k,...a,ref:h}),g.state.next({name:r,errors:s.errors,isValid:!1}),n&&n.shouldFocus&&h&&h.focus&&h.focus()},pt=(r,a)=>J(r)?g.state.subscribe({next:n=>"values"in n&&r(x(void 0,a),n)}):x(r,a,!0),Ze=r=>g.state.subscribe({next:a=>{hs(r.name,a.name,r.exact)&&fs(a,r.formState||v,jt,r.reRenderRoot)&&r.callback({values:{...l},...s,...a,defaultValues:o})}}).unsubscribe,Ct=r=>(d.mount=!0,V={...V,...r.formState},Ze({...r,formState:V})),Re=(r,a={})=>{for(const n of r?Fe(r):f.mount)f.mount.delete(n),f.array.delete(n),a.keepValue||(E(i,n),E(l,n)),!a.keepError&&E(s.errors,n),!a.keepDirty&&E(s.dirtyFields,n),!a.keepTouched&&E(s.touchedFields,n),!a.keepIsValidating&&E(s.validatingFields,n),!t.shouldUnregister&&!a.keepDefaultValue&&E(o,n);g.state.next({values:j(l)}),g.state.next({...s,...a.keepDirty?{isDirty:Q()}:{}}),!a.keepIsValid&&N()},Ge=({disabled:r,name:a})=>{(X(r)&&d.mount||r||f.disabled.has(a))&&(r?f.disabled.add(a):f.disabled.delete(a))},je=(r,a={})=>{let n=y(i,r);const h=X(a.disabled)||X(t.disabled);return S(i,r,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:r}},name:r,mount:!0,...a}}),f.mount.add(r),n?Ge({disabled:X(a.disabled)?a.disabled:t.disabled,name:r}):z(r,!0,a.value),{...h?{disabled:a.disabled||t.disabled}:{},...t.progressive?{required:!!a.required,min:_e(a.min),max:_e(a.max),minLength:_e(a.minLength),maxLength:_e(a.maxLength),pattern:_e(a.pattern)}:{},name:r,onChange:Y,onBlur:Y,ref:c=>{if(c){je(r,a),n=y(i,r);const u=O(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,b=as(u),F=n._f.refs||[];if(b?F.find(k=>k===u):u===n._f.ref)return;S(i,r,{_f:{...n._f,...b?{refs:[...F.filter(Be),u,...Array.isArray(y(o,r))?[{}]:[]],ref:{type:u.type,name:r}}:{ref:u}}}),z(r,!1,void 0,u)}else n=y(i,r,{}),n._f&&(n._f.mount=!1),(t.shouldUnregister||a.shouldUnregister)&&!(Zt(f.array,r)&&d.action)&&f.unMount.add(r)}}},Me=()=>t.shouldFocusError&&Ve(i,xe,f.mount),Nt=r=>{X(r)&&(g.state.next({disabled:r}),Ve(i,(a,n)=>{const h=y(i,n);h&&(a.disabled=h._f.disabled||r,Array.isArray(h._f.refs)&&h._f.refs.forEach(c=>{c.disabled=h._f.disabled||r}))},0,!1))},et=(r,a)=>async n=>{let h;n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let c=j(l);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:u,values:b}=await ne();s.errors=u,c=j(b)}else await K(i);if(f.disabled.size)for(const u of f.disabled)E(c,u);if(E(s.errors,"root"),P(s.errors)){g.state.next({errors:{}});try{await r(c,n)}catch(u){h=u}}else a&&await a({...s.errors},n),Me(),setTimeout(Me);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:P(s.errors)&&!h,submitCount:s.submitCount+1,errors:s.errors}),h)throw h},Tt=(r,a={})=>{y(i,r)&&(O(a.defaultValue)?I(r,j(y(o,r))):(I(r,a.defaultValue),S(o,r,j(a.defaultValue))),a.keepTouched||E(s.touchedFields,r),a.keepDirty||(E(s.dirtyFields,r),s.isDirty=a.defaultValue?Q(r,j(y(o,r))):Q()),a.keepError||(E(s.errors,r),v.isValid&&N()),g.state.next({...s}))},tt=(r,a={})=>{const n=r?j(r):o,h=j(n),c=P(r),u=c?o:h;if(a.keepDefaultValues||(o=n),!a.keepValues){if(a.keepDirtyValues){const b=new Set([...f.mount,...Object.keys(ve(o,l))]);for(const F of Array.from(b))y(s.dirtyFields,F)?S(u,F,y(l,F)):I(F,y(u,F))}else{if(Ke&&O(r))for(const b of f.mount){const F=y(i,b);if(F&&F._f){const k=Array.isArray(F._f.refs)?F._f.refs[0]:F._f.ref;if(Oe(k)){const W=k.closest("form");if(W){W.reset();break}}}}if(a.keepFieldsRef)for(const b of f.mount)I(b,y(u,b));else i={}}l=t.shouldUnregister?a.keepDefaultValues?j(o):{}:j(u),g.array.next({values:{...u}}),g.state.next({values:{...u}})}f={mount:a.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!v.isValid||!!a.keepIsValid||!!a.keepDirtyValues,d.watch=!!t.shouldUnregister,g.state.next({submitCount:a.keepSubmitCount?s.submitCount:0,isDirty:c?!1:a.keepDirty?s.isDirty:!!(a.keepDefaultValues&&!oe(r,o)),isSubmitted:a.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:c?{}:a.keepDirtyValues?a.keepDefaultValues&&l?ve(o,l):s.dirtyFields:a.keepDefaultValues&&r?ve(o,r):a.keepDirty?s.dirtyFields:{},touchedFields:a.keepTouched?s.touchedFields:{},errors:a.keepErrors?s.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},st=(r,a)=>tt(J(r)?r(l):r,a),Rt=(r,a={})=>{const n=y(i,r),h=n&&n._f;if(h){const c=h.refs?h.refs[0]:h.ref;c.focus&&(c.focus(),a.shouldSelect&&J(c.select)&&c.select())}},jt=r=>{s={...s,...r}},rt={control:{register:je,unregister:Re,getFieldState:Ye,handleSubmit:et,setError:Xe,_subscribe:Ze,_runSchema:ne,_focusError:Me,_getWatch:x,_getDirty:Q,_setValid:N,_setFieldArray:Ne,_setDisabledField:Ge,_setErrors:Z,_getFieldArray:w,_reset:tt,_resetDefaultValues:()=>J(t.defaultValues)&&t.defaultValues().then(r=>{st(r,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:ce,_disableForm:Nt,_subjects:g,_proxyFormState:v,get _fields(){return i},get _formValues(){return l},get _state(){return d},set _state(r){d=r},get _defaultValues(){return o},get _names(){return f},set _names(r){f=r},get _formState(){return s},get _options(){return t},set _options(r){t={...t,...r}}},subscribe:Ct,trigger:fe,register:je,handleSubmit:et,watch:pt,setValue:I,getValues:Ae,reset:st,resetField:Tt,clearErrors:Ot,unregister:Re,setError:Xe,setFocus:Rt,getFieldState:Ye};return{...rt,formControl:rt}}function xs(e={}){const t=q.useRef(void 0),s=q.useRef(void 0),[i,o]=q.useState({isDirty:!1,isValidating:!1,isLoading:J(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:J(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:i},e.defaultValues&&!J(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...f}=ms(e);t.current={...f,formState:i}}const l=t.current.control;return l._options=e,ss(()=>{const d=l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0});return o(f=>({...f,isReady:!0})),l._formState.isReady=!0,d},[l]),q.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),q.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode)},[l,e.mode,e.reValidateMode]),q.useEffect(()=>{e.errors&&(l._setErrors(e.errors),l._focusError())},[l,e.errors]),q.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),q.useEffect(()=>{if(l._proxyFormState.isDirty){const d=l._getDirty();d!==i.isDirty&&l._subjects.state.next({isDirty:d})}},[l,i.isDirty]),q.useEffect(()=>{e.values&&!oe(e.values,s.current)?(l._reset(e.values,{keepFieldsRef:!0,...l._options.resetOptions}),s.current=e.values,o(d=>({...d}))):l._resetDefaultValues()},[l,e.values]),q.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),t.current.formState=ts(i,l),t.current}const _s={},De=se.forwardRef(function({className:t,...s},i){return m.jsx("input",{ref:i,className:`${_s.input} ${t??""}`,...s})}),Fs="_textarea_1nl4y_1",Vs={textarea:Fs},ws=se.forwardRef(function({className:t,rows:s=4,...i},o){return m.jsx("textarea",{ref:o,className:`${Vs.textarea} ${t??""}`,rows:s,...i})}),ks="_checkbox_11x1x_1",As={checkbox:ks},Ss=se.forwardRef(function({className:t,...s},i){return m.jsx("input",{ref:i,type:"checkbox",className:`${As.checkbox} ${t??""}`,...s})});function Ds(e){return Qt({mutationFn:async t=>{await new Promise(i=>setTimeout(i,800));const s=JSON.parse(localStorage.getItem("form_submissions")||"[]");return s.push({type:e,values:t,at:new Date().toISOString()}),localStorage.setItem("form_submissions",JSON.stringify(s)),{ok:!0}}})}const Es="_stack_x0j2x_1",Os="_field_x0j2x_7",ps="_label_x0j2x_13",Cs="_control_x0j2x_20",Ns="_consent_x0j2x_44",Ts="_submit_x0j2x_63",Rs="_ok_x0j2x_80",R={stack:Es,field:Os,label:ps,control:Cs,consent:Ns,submit:Ts,ok:Rs};function js({type:e}){const{register:t,handleSubmit:s,formState:{isSubmitting:i,isSubmitSuccessful:o},reset:l}=xs({defaultValues:{consent:!1}}),{mutateAsync:d}=Ds(e),f=e==="callback",C=e==="cooperate",M=e==="resume";return m.jsxs("form",{className:R.form,onSubmit:s(async v=>{await d(v),l()}),children:[m.jsxs("div",{className:R.stack,children:[m.jsxs("div",{className:R.field,children:[m.jsx("label",{className:R.label,children:"Имя"}),m.jsx(De,{className:R.control,placeholder:"Иван Петров",...t("name",{required:!0})})]}),f&&m.jsxs("div",{className:R.field,children:[m.jsx("label",{className:R.label,children:"Номер телефона"}),m.jsx(De,{className:R.control,inputMode:"numeric",onInput:v=>{const V=v.currentTarget;V.value=V.value.replace(/[^\d+() -]/g,"")},placeholder:"+7 (999) 000-0000",...t("phone",{required:!0})})]}),M&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:R.field,children:[m.jsx("label",{className:R.label,children:"Email"}),m.jsx(De,{className:R.control,placeholder:"info@msarchitects.ru",...t("email",{required:!0})})]}),m.jsxs("div",{className:R.field,children:[m.jsx("label",{className:R.label,children:"Ссылка на портфолио"}),m.jsx(De,{className:R.control,placeholder:"https://msarchitects.ru/",...t("resume",{required:!0})})]})]}),C&&m.jsxs("div",{className:R.field,children:[m.jsx("label",{className:R.label,children:"Сообщение"}),m.jsx(ws,{placeholder:"Коротко опишите запрос",...t("message")})]})]}),m.jsxs("label",{className:R.consent,children:[m.jsx(Ss,{...t("consent",{required:!0})}),m.jsxs("span",{children:["Я соглашаюсь с ",m.jsx(Kt,{to:"/privacy",children:"политикой конфиденциальности"})]})]}),m.jsx(Jt,{className:R.submit,disabled:i,children:"Оставить заявку"}),o&&m.jsx("div",{className:R.ok,children:"Заявка отправлена"})]})}const Ms="_head_1ku1d_1",Ls="_card_1ku1d_10",Pe={head:Ms,card:Ls};function $s({variant:e="default"}){const[t,s]=se.useState("callback"),i=[{value:"callback",label:"Обратный звонок"},{value:"resume",label:"Отправить резюме"},{value:"cooperate",label:"Обсудить сотрудничество"}];return m.jsxs("div",{className:Pe.embed,"data-bitrix-block":"FORM",children:[m.jsx("div",{className:Pe.head,children:"Мне нужно:"}),m.jsx(Ht,{items:i,value:t,onChange:o=>s(o)}),m.jsx("div",{className:Pe.card,children:m.jsx(js,{type:t})})]})}export{$s as T};
