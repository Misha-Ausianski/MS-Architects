import{r as c,u as w,a as j,j as n,L as y}from"./index-D7UHf7jv.js";import{S as v,A as N,P as S,a as P,N as R,b as k}from"./navigation-CYg_0Cjg.js";import{B as E}from"./Button-0D6MiXYO.js";import{u as $}from"./queries-DuPgh-sh.js";import"./client-DiCVu7dt.js";const A="_hero_7s58w_22",I="_slide_7s58w_38",L="_bg_7s58w_44",B="_inner_7s58w_52",C="_tag_7s58w_66",O="_title_7s58w_79",T="_text_7s58w_87",z="_button_7s58w_95",D="_pagination_7s58w_111",H="_bullet_7s58w_124",q="_progress_7s58w_141",s={hero:A,slide:I,bg:L,inner:B,tag:C,title:O,text:T,button:z,pagination:D,bullet:H,progress:q};function M({items:o}){const i=c.useRef(null),p=c.useRef(null),u=w(),{pathname:g}=j(),d=(e,t)=>`<span class="${t} ${s.bullet}" tabindex="0">
       <i class="${s.progress}" data-progress></i>
     </span>`,_=e=>{var a,r,l,m,f,h,x,b;if(!e||!i.current)return;(!e.params.pagination||typeof e.params.pagination=="boolean")&&(e.params.pagination={enabled:!0});const t=e.params.pagination;t.el=i.current,t.clickable=!0,t.renderBullet=d,e.pagination&&((r=(a=e.pagination).destroy)==null||r.call(a),(m=(l=e.pagination).init)==null||m.call(l),(h=(f=e.pagination).render)==null||h.call(f),(b=(x=e.pagination).update)==null||b.call(x))};return c.useEffect(()=>{const e=p.current;if(!e)return;_(e);const t=setTimeout(()=>{var a,r;e.update(),(r=(a=e.pagination)==null?void 0:a.update)==null||r.call(a)},0);return()=>clearTimeout(t)},[g,o.length]),n.jsxs("section",{className:s.hero,"data-bitrix-block":"HERO_SLIDER",children:[n.jsx(v,{modules:[N,S,P,R],onSwiper:e=>{p.current=e},onInit:e=>{_(e)},slidesPerView:1,spaceBetween:0,loop:o.length>1,speed:700,watchOverflow:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,updateOnWindowResize:!0,autoplay:{delay:1e4,disableOnInteraction:!1,pauseOnMouseEnter:!0},simulateTouch:!0,grabCursor:!0,pagination:{enabled:!0,clickable:!0,renderBullet:d},onAfterInit:e=>{var t,a;e.update(),(a=(t=e.pagination)==null?void 0:t.update)==null||a.call(t)},onResize:e=>{var t,a;e.update(),(a=(t=e.pagination)==null?void 0:t.update)==null||a.call(t)},onImagesReady:e=>{var t,a;e.update(),(a=(t=e.pagination)==null?void 0:t.update)==null||a.call(t)},onAutoplayTimeLeft:(e,t,a)=>{var l;const r=(l=i.current)==null?void 0:l.querySelector(".swiper-pagination-bullet-active [data-progress]");r&&r.style.setProperty("--p",`${((1-a)*100).toFixed(0)}%`)},onSlideChange:()=>{var e;(e=i.current)==null||e.querySelectorAll("[data-progress]").forEach(t=>t.style.setProperty("--p","0%"))},children:o.map(e=>n.jsx(k,{children:n.jsxs("div",{className:s.slide,onClick:()=>u(`/projects/${e.slug}`),role:"link",tabIndex:0,onKeyDown:t=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),u(`/projects/${e.slug}`))},children:[n.jsx("img",{className:s.bg,src:e.cover,alt:e.title}),n.jsxs("div",{className:s.inner,children:[e.category&&n.jsx("span",{className:s.tag,children:e.category}),n.jsx("h1",{className:s.title,children:e.title}),e.excerpt&&n.jsx("p",{className:s.text,children:e.excerpt}),n.jsx(y,{to:"/projects",onClick:t=>t.stopPropagation(),className:s.cta,children:n.jsxs(E,{className:s.button,children:["Смотреть все",n.jsx("svg",{width:"8",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M7.75 7 1.5 13.25l-.875-.875L6 7 .625 1.625 1.5.75 7.75 7z",fill:"#fff"})})]})})]})]})},e.slug))},g),n.jsx("div",{className:`${s.pagination} swiper-pagination`,ref:i})]})}function J(){const{data:o}=$({}),i=((o==null?void 0:o.items)??[]).slice(0,3);return n.jsx(M,{items:i})}export{J as default};
