var lt=e=>{throw TypeError(e)};var je=(e,t,s)=>t.has(e)||lt("Cannot "+s);var k=(e,t,s)=>(je(e,t,"read from private field"),s?s.call(e):t.get(e)),he=(e,t,s)=>t.has(e)?lt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),ye=(e,t,s,i)=>(je(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s),be=(e,t,s)=>(je(e,t,"access private method"),s);import{S as It,s as Bt,h as nt,g as Pt,n as Ft,c as qt,r as se,d as $t,e as Wt,R as q,j as x}from"./index-BxdRO2Tz.js";import{T as Kt}from"./Tabs-BZVfRHDc.js";import{B as Ht}from"./Button-DLYvRB1o.js";var ee,ue,B,te,re,Ee,qe,xt,Jt=(xt=class extends It{constructor(t,s){super();he(this,re);he(this,ee);he(this,ue);he(this,B);he(this,te);ye(this,ee,t),this.setOptions(s),this.bindMethods(),be(this,re,Ee).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const s=this.options;this.options=k(this,ee).defaultMutationOptions(t),Bt(this.options,s)||k(this,ee).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,B),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&nt(s.mutationKey)!==nt(this.options.mutationKey)?this.reset():((i=k(this,B))==null?void 0:i.state.status)==="pending"&&k(this,B).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=k(this,B))==null||t.removeObserver(this)}onMutationUpdate(t){be(this,re,Ee).call(this),be(this,re,qe).call(this,t)}getCurrentResult(){return k(this,ue)}reset(){var t;(t=k(this,B))==null||t.removeObserver(this),ye(this,B,void 0),be(this,re,Ee).call(this),be(this,re,qe).call(this)}mutate(t,s){var i;return ye(this,te,s),(i=k(this,B))==null||i.removeObserver(this),ye(this,B,k(this,ee).getMutationCache().build(k(this,ee),this.options)),k(this,B).addObserver(this),k(this,B).execute(t)}},ee=new WeakMap,ue=new WeakMap,B=new WeakMap,te=new WeakMap,re=new WeakSet,Ee=function(){var s;const t=((s=k(this,B))==null?void 0:s.state)??Pt();ye(this,ue,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},qe=function(t){Ft.batch(()=>{var s,i,o,n,d,f,p,L;if(k(this,te)&&this.hasListeners()){const m=k(this,ue).variables,A=k(this,ue).context,g={client:k(this,ee),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((i=(s=k(this,te)).onSuccess)==null||i.call(s,t.data,m,A,g),(n=(o=k(this,te)).onSettled)==null||n.call(o,t.data,null,m,A,g)):(t==null?void 0:t.type)==="error"&&((f=(d=k(this,te)).onError)==null||f.call(d,t.error,m,A,g),(L=(p=k(this,te)).onSettled)==null||L.call(p,void 0,t.error,m,A,g))}this.listeners.forEach(m=>{m(k(this,ue))})})},xt);function zt(e,t){const s=qt(),[i]=se.useState(()=>new Jt(s,e));se.useEffect(()=>{i.setOptions(e)},[i,e]);const o=se.useSyncExternalStore(se.useCallback(d=>i.subscribe(Ft.batchCalls(d)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),n=se.useCallback((d,f)=>{i.mutate(d,f).catch($t)},[i]);if(o.error&&Wt(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:n,mutateAsync:o.mutate}}var we=e=>e.type==="checkbox",de=e=>e instanceof Date,j=e=>e==null;const Vt=e=>typeof e=="object";var N=e=>!j(e)&&!Array.isArray(e)&&Vt(e)&&!de(e),Qt=e=>N(e)&&e.target?we(e.target)?e.target.checked:e.target.value:e,Yt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Xt=(e,t)=>e.has(Yt(t)),Zt=e=>{const t=e.constructor&&e.constructor.prototype;return N(t)&&t.hasOwnProperty("isPrototypeOf")},Ke=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function M(e){let t;const s=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Ke&&(e instanceof Blob||i))&&(s||N(e)))if(t=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!Zt(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=M(e[o]));else return e;return t}var Ce=e=>/^\w*$/.test(e),C=e=>e===void 0,He=e=>Array.isArray(e)?e.filter(Boolean):[],Je=e=>He(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,t,s)=>{if(!t||!N(e))return s;const i=(Ce(t)?[t]:Je(t)).reduce((o,n)=>j(o)?o:o[n],e);return C(i)||i===e?C(e[t])?s:e[t]:i},X=e=>typeof e=="boolean",S=(e,t,s)=>{let i=-1;const o=Ce(t)?[t]:Je(t),n=o.length,d=n-1;for(;++i<n;){const f=o[i];let p=s;if(i!==d){const L=e[f];p=N(L)||Array.isArray(L)?L:isNaN(+o[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=p,e=e[f]}};const ot={BLUR:"blur",FOCUS_OUT:"focusout"},H={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},G={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Gt=q.createContext(null);Gt.displayName="HookFormContext";var es=(e,t,s,i=!0)=>{const o={defaultValues:t._defaultValues};for(const n in e)Object.defineProperty(o,n,{get:()=>{const d=n;return t._proxyFormState[d]!==H.all&&(t._proxyFormState[d]=!i||H.all),e[d]}});return o};const ts=typeof window<"u"?q.useLayoutEffect:q.useEffect;var $=e=>typeof e=="string",ss=(e,t,s,i,o)=>$(e)?(i&&t.watch.add(e),y(s,e,o)):Array.isArray(e)?e.map(n=>(i&&t.watch.add(n),y(s,n))):(i&&(t.watchAll=!0),s),$e=e=>j(e)||!Vt(e);function oe(e,t,s=new WeakSet){if($e(e)||$e(t))return e===t;if(de(e)&&de(t))return e.getTime()===t.getTime();const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const n of i){const d=e[n];if(!o.includes(n))return!1;if(n!=="ref"){const f=t[n];if(de(d)&&de(f)||N(d)&&N(f)||Array.isArray(d)&&Array.isArray(f)?!oe(d,f,s):d!==f)return!1}}return!0}var rs=(e,t,s,i,o)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[i]:o||!0}}:{},Fe=e=>Array.isArray(e)?e:[e],ut=()=>{let e=[];return{get observers(){return e},next:o=>{for(const n of e)n.next&&n.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(n=>n!==o)}}),unsubscribe:()=>{e=[]}}};function wt(e,t){const s={};for(const i in e)if(e.hasOwnProperty(i)){const o=e[i],n=t[i];if(o&&N(o)&&n){const d=wt(o,n);N(d)&&(s[i]=d)}else e[i]&&(s[i]=n)}return s}var P=e=>N(e)&&!Object.keys(e).length,ze=e=>e.type==="file",J=e=>typeof e=="function",De=e=>{if(!Ke)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},At=e=>e.type==="select-multiple",Qe=e=>e.type==="radio",is=e=>Qe(e)||we(e),Ie=e=>De(e)&&e.isConnected;function as(e,t){const s=t.slice(0,-1).length;let i=0;for(;i<s;)e=C(e)?i++:e[t[i++]];return e}function ls(e){for(const t in e)if(e.hasOwnProperty(t)&&!C(e[t]))return!1;return!0}function O(e,t){const s=Array.isArray(t)?t:Ce(t)?[t]:Je(t),i=s.length===1?e:as(e,s),o=s.length-1,n=s[o];return i&&delete i[n],o!==0&&(N(i)&&P(i)||Array.isArray(i)&&ls(i))&&O(e,s.slice(0,-1)),e}var ns=e=>{for(const t in e)if(J(e[t]))return!0;return!1};function kt(e){return Array.isArray(e)||N(e)&&!ns(e)}function We(e,t={}){for(const s in e)kt(e[s])?(t[s]=Array.isArray(e[s])?[]:{},We(e[s],t[s])):j(e[s])||(t[s]=!0);return t}function ve(e,t,s){s||(s=We(t));for(const i in e)kt(e[i])?C(t)||$e(s[i])?s[i]=We(e[i],Array.isArray(e[i])?[]:{}):ve(e[i],j(t)?{}:t[i],s[i]):s[i]=!oe(e[i],t[i]);return s}const ct={value:!1,isValid:!1},dt={value:!0,isValid:!0};var St=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?dt:{value:e[0].value,isValid:!0}:dt:ct}return ct},Et=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:i})=>C(e)?e:t?e===""?NaN:e&&+e:s&&$(e)?new Date(e):i?i(e):e;const ft={isValid:!1,value:null};var Dt=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,ft):ft;function ht(e){const t=e.ref;return ze(t)?t.files:Qe(t)?Dt(e.refs).value:At(t)?[...t.selectedOptions].map(({value:s})=>s):we(t)?St(e.refs).value:Et(C(t.value)?e.ref.value:t.value,e)}var os=(e,t,s,i)=>{const o={};for(const n of e){const d=y(t,n);d&&S(o,n,d._f)}return{criteriaMode:s,names:[...e],fields:o,shouldUseNativeValidation:i}},Oe=e=>e instanceof RegExp,xe=e=>C(e)?e:Oe(e)?e.source:N(e)?Oe(e.value)?e.value.source:e.value:e,yt=e=>({isOnSubmit:!e||e===H.onSubmit,isOnBlur:e===H.onBlur,isOnChange:e===H.onChange,isOnAll:e===H.all,isOnTouch:e===H.onTouched});const bt="AsyncFunction";var us=e=>!!e&&!!e.validate&&!!(J(e.validate)&&e.validate.constructor.name===bt||N(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===bt)),cs=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),gt=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Ve=(e,t,s,i)=>{for(const o of s||Object.keys(e)){const n=y(e,o);if(n){const{_f:d,...f}=n;if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!i)return!0;if(d.ref&&t(d.ref,d.name)&&!i)return!0;if(Ve(f,t))break}else if(N(f)&&Ve(f,t))break}}};function vt(e,t,s){const i=y(e,s);if(i||Ce(s))return{error:i,name:s};const o=s.split(".");for(;o.length;){const n=o.join("."),d=y(t,n),f=y(e,n);if(d&&!Array.isArray(d)&&s!==n)return{name:s};if(f&&f.type)return{name:n,error:f};if(f&&f.root&&f.root.type)return{name:`${n}.root`,error:f.root};o.pop()}return{name:s}}var ds=(e,t,s,i)=>{s(e);const{name:o,...n}=e;return P(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find(d=>t[d]===(!i||H.all))},fs=(e,t,s)=>!e||!t||e===t||Fe(e).some(i=>i&&(s?i===t:i.startsWith(t)||t.startsWith(i))),hs=(e,t,s,i,o)=>o.isOnAll?!1:!s&&o.isOnTouch?!(t||e):(s?i.isOnBlur:o.isOnBlur)?!e:(s?i.isOnChange:o.isOnChange)?e:!0,ys=(e,t)=>!He(y(e,t)).length&&O(e,t),bs=(e,t,s)=>{const i=Fe(y(e,s));return S(i,"root",t[s]),S(e,s,i),e};function mt(e,t,s="validate"){if($(e)||Array.isArray(e)&&e.every($)||X(e)&&!e)return{type:s,message:$(e)?e:"",ref:t}}var ge=e=>N(e)&&!Oe(e)?e:{value:e,message:""},_t=async(e,t,s,i,o,n)=>{const{ref:d,refs:f,required:p,maxLength:L,minLength:m,min:A,max:g,pattern:me,validate:ie,name:T,valueAsNumber:ae,mount:Ne}=e._f,_=y(s,T);if(!Ne||t.has(T))return{};const Z=f?f[0]:d,z=v=>{o&&Z.reportValidity&&(Z.setCustomValidity(X(v)?"":v||""),Z.reportValidity())},R={},Ae=Qe(d),le=we(d),pe=Ae||le,K=(ae||ze(d))&&C(d.value)&&C(_)||De(d)&&d.value===""||_===""||Array.isArray(_)&&!_.length,ce=rs.bind(null,T,i,R),Q=(v,V,D,U=G.maxLength,I=G.minLength)=>{const Y=v?V:D;R[T]={type:v?U:I,message:Y,ref:d,...ce(v?U:I,Y)}};if(n?!Array.isArray(_)||!_.length:p&&(!pe&&(K||j(_))||X(_)&&!_||le&&!St(f).isValid||Ae&&!Dt(f).isValid)){const{value:v,message:V}=$(p)?{value:!!p,message:p}:ge(p);if(v&&(R[T]={type:G.required,message:V,ref:Z,...ce(G.required,V)},!i))return z(V),R}if(!K&&(!j(A)||!j(g))){let v,V;const D=ge(g),U=ge(A);if(!j(_)&&!isNaN(_)){const I=d.valueAsNumber||_&&+_;j(D.value)||(v=I>D.value),j(U.value)||(V=I<U.value)}else{const I=d.valueAsDate||new Date(_),Y=ke=>new Date(new Date().toDateString()+" "+ke),_e=d.type=="time",fe=d.type=="week";$(D.value)&&_&&(v=_e?Y(_)>Y(D.value):fe?_>D.value:I>new Date(D.value)),$(U.value)&&_&&(V=_e?Y(_)<Y(U.value):fe?_<U.value:I<new Date(U.value))}if((v||V)&&(Q(!!v,D.message,U.message,G.max,G.min),!i))return z(R[T].message),R}if((L||m)&&!K&&($(_)||n&&Array.isArray(_))){const v=ge(L),V=ge(m),D=!j(v.value)&&_.length>+v.value,U=!j(V.value)&&_.length<+V.value;if((D||U)&&(Q(D,v.message,V.message),!i))return z(R[T].message),R}if(me&&!K&&$(_)){const{value:v,message:V}=ge(me);if(Oe(v)&&!_.match(v)&&(R[T]={type:G.pattern,message:V,ref:d,...ce(G.pattern,V)},!i))return z(V),R}if(ie){if(J(ie)){const v=await ie(_,s),V=mt(v,Z);if(V&&(R[T]={...V,...ce(G.validate,V.message)},!i))return z(V.message),R}else if(N(ie)){let v={};for(const V in ie){if(!P(v)&&!i)break;const D=mt(await ie[V](_,s),Z,V);D&&(v={...D,...ce(V,D.message)},z(D.message),i&&(R[T]=v))}if(!P(v)&&(R[T]={ref:Z,...v},!i))return R}}return z(!0),R};const gs={mode:H.onSubmit,reValidateMode:H.onChange,shouldFocusError:!0};function vs(e={}){let t={...gs,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:J(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},o=N(t.defaultValues)||N(t.values)?M(t.defaultValues||t.values)||{}:{},n=t.shouldUnregister?{}:M(o),d={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,L=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let A={...m};const g={array:ut(),state:ut()},me=t.criteriaMode===H.all,ie=r=>a=>{clearTimeout(L),L=setTimeout(r,a)},T=async r=>{if(!t.disabled&&(m.isValid||A.isValid||r)){const a=t.resolver?P((await le()).errors):await K(i,!0);a!==s.isValid&&g.state.next({isValid:a})}},ae=(r,a)=>{!t.disabled&&(m.isValidating||m.validatingFields||A.isValidating||A.validatingFields)&&((r||Array.from(f.mount)).forEach(l=>{l&&(a?S(s.validatingFields,l,a):O(s.validatingFields,l))}),g.state.next({validatingFields:s.validatingFields,isValidating:!P(s.validatingFields)}))},Ne=(r,a=[],l,h,c=!0,u=!0)=>{if(h&&l&&!t.disabled){if(d.action=!0,u&&Array.isArray(y(i,r))){const b=l(y(i,r),h.argA,h.argB);c&&S(i,r,b)}if(u&&Array.isArray(y(s.errors,r))){const b=l(y(s.errors,r),h.argA,h.argB);c&&S(s.errors,r,b),ys(s.errors,r)}if((m.touchedFields||A.touchedFields)&&u&&Array.isArray(y(s.touchedFields,r))){const b=l(y(s.touchedFields,r),h.argA,h.argB);c&&S(s.touchedFields,r,b)}(m.dirtyFields||A.dirtyFields)&&(s.dirtyFields=ve(o,n)),g.state.next({name:r,isDirty:Q(r,a),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else S(n,r,a)},_=(r,a)=>{S(s.errors,r,a),g.state.next({errors:s.errors})},Z=r=>{s.errors=r,g.state.next({errors:s.errors,isValid:!1})},z=(r,a,l,h)=>{const c=y(i,r);if(c){const u=y(n,r,C(l)?y(o,r):l);C(u)||h&&h.defaultChecked||a?S(n,r,a?u:ht(c._f)):D(r,u),d.mount&&T()}},R=(r,a,l,h,c)=>{let u=!1,b=!1;const F={name:r};if(!t.disabled){if(!l||h){(m.isDirty||A.isDirty)&&(b=s.isDirty,s.isDirty=F.isDirty=Q(),u=b!==F.isDirty);const w=oe(y(o,r),a);b=!!y(s.dirtyFields,r),w?O(s.dirtyFields,r):S(s.dirtyFields,r,!0),F.dirtyFields=s.dirtyFields,u=u||(m.dirtyFields||A.dirtyFields)&&b!==!w}if(l){const w=y(s.touchedFields,r);w||(S(s.touchedFields,r,l),F.touchedFields=s.touchedFields,u=u||(m.touchedFields||A.touchedFields)&&w!==l)}u&&c&&g.state.next(F)}return u?F:{}},Ae=(r,a,l,h)=>{const c=y(s.errors,r),u=(m.isValid||A.isValid)&&X(a)&&s.isValid!==a;if(t.delayError&&l?(p=ie(()=>_(r,l)),p(t.delayError)):(clearTimeout(L),p=null,l?S(s.errors,r,l):O(s.errors,r)),(l?!oe(c,l):c)||!P(h)||u){const b={...h,...u&&X(a)?{isValid:a}:{},errors:s.errors,name:r};s={...s,...b},g.state.next(b)}},le=async r=>{ae(r,!0);const a=await t.resolver(n,t.context,os(r||f.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return ae(r),a},pe=async r=>{const{errors:a}=await le(r);if(r)for(const l of r){const h=y(a,l);h?S(s.errors,l,h):O(s.errors,l)}else s.errors=a;return a},K=async(r,a,l={valid:!0})=>{for(const h in r){const c=r[h];if(c){const{_f:u,...b}=c;if(u){const F=f.array.has(u.name),w=c._f&&us(c._f);w&&m.validatingFields&&ae([u.name],!0);const W=await _t(c,f.disabled,n,me,t.shouldUseNativeValidation&&!a,F);if(w&&m.validatingFields&&ae([u.name]),W[u.name]&&(l.valid=!1,a))break;!a&&(y(W,u.name)?F?bs(s.errors,W,u.name):S(s.errors,u.name,W[u.name]):O(s.errors,u.name))}!P(b)&&await K(b,a,l)}}return l.valid},ce=()=>{for(const r of f.unMount){const a=y(i,r);a&&(a._f.refs?a._f.refs.every(l=>!Ie(l)):!Ie(a._f.ref))&&Te(r)}f.unMount=new Set},Q=(r,a)=>!t.disabled&&(r&&a&&S(n,r,a),!oe(ke(),o)),v=(r,a,l)=>ss(r,f,{...d.mount?n:C(a)?o:$(r)?{[r]:a}:a},l,a),V=r=>He(y(d.mount?n:o,r,t.shouldUnregister?y(o,r,[]):[])),D=(r,a,l={})=>{const h=y(i,r);let c=a;if(h){const u=h._f;u&&(!u.disabled&&S(n,r,Et(a,u)),c=De(u.ref)&&j(a)?"":a,At(u.ref)?[...u.ref.options].forEach(b=>b.selected=c.includes(b.value)):u.refs?we(u.ref)?u.refs.forEach(b=>{(!b.defaultChecked||!b.disabled)&&(Array.isArray(c)?b.checked=!!c.find(F=>F===b.value):b.checked=c===b.value||!!c)}):u.refs.forEach(b=>b.checked=b.value===c):ze(u.ref)?u.ref.value="":(u.ref.value=c,u.ref.type||g.state.next({name:r,values:M(n)})))}(l.shouldDirty||l.shouldTouch)&&R(r,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&fe(r)},U=(r,a,l)=>{for(const h in a){if(!a.hasOwnProperty(h))return;const c=a[h],u=r+"."+h,b=y(i,u);(f.array.has(r)||N(c)||b&&!b._f)&&!de(c)?U(u,c,l):D(u,c,l)}},I=(r,a,l={})=>{const h=y(i,r),c=f.array.has(r),u=M(a);S(n,r,u),c?(g.array.next({name:r,values:M(n)}),(m.isDirty||m.dirtyFields||A.isDirty||A.dirtyFields)&&l.shouldDirty&&g.state.next({name:r,dirtyFields:ve(o,n),isDirty:Q(r,u)})):h&&!h._f&&!j(u)?U(r,u,l):D(r,u,l),gt(r,f)&&g.state.next({...s,name:r}),g.state.next({name:d.mount?r:void 0,values:M(n)})},Y=async r=>{d.mount=!0;const a=r.target;let l=a.name,h=!0;const c=y(i,l),u=w=>{h=Number.isNaN(w)||de(w)&&isNaN(w.getTime())||oe(w,y(n,l,w))},b=yt(t.mode),F=yt(t.reValidateMode);if(c){let w,W;const Se=a.type?ht(c._f):Qt(r),ne=r.type===ot.BLUR||r.type===ot.FOCUS_OUT,Lt=!cs(c._f)&&!t.resolver&&!y(s.errors,l)&&!c._f.deps||hs(ne,y(s.touchedFields,l),s.isSubmitted,F,b),Le=gt(l,f,ne);S(n,l,Se),ne?(!a||!a.readOnly)&&(c._f.onBlur&&c._f.onBlur(r),p&&p(0)):c._f.onChange&&c._f.onChange(r);const Ue=R(l,Se,ne),Ut=!P(Ue)||Le;if(!ne&&g.state.next({name:l,type:r.type,values:M(n)}),Lt)return(m.isValid||A.isValid)&&(t.mode==="onBlur"?ne&&T():ne||T()),Ut&&g.state.next({name:l,...Le?{}:Ue});if(!ne&&Le&&g.state.next({...s}),t.resolver){const{errors:it}=await le([l]);if(u(Se),h){const jt=vt(s.errors,i,l),at=vt(it,i,jt.name||l);w=at.error,l=at.name,W=P(it)}}else ae([l],!0),w=(await _t(c,f.disabled,n,me,t.shouldUseNativeValidation))[l],ae([l]),u(Se),h&&(w?W=!1:(m.isValid||A.isValid)&&(W=await K(i,!0)));h&&(c._f.deps&&(!Array.isArray(c._f.deps)||c._f.deps.length>0)&&fe(c._f.deps),Ae(l,W,w,Ue))}},_e=(r,a)=>{if(y(s.errors,a)&&r.focus)return r.focus(),1},fe=async(r,a={})=>{let l,h;const c=Fe(r);if(t.resolver){const u=await pe(C(r)?r:c);l=P(u),h=r?!c.some(b=>y(u,b)):l}else r?(h=(await Promise.all(c.map(async u=>{const b=y(i,u);return await K(b&&b._f?{[u]:b}:b)}))).every(Boolean),!(!h&&!s.isValid)&&T()):h=l=await K(i);return g.state.next({...!$(r)||(m.isValid||A.isValid)&&l!==s.isValid?{}:{name:r},...t.resolver||!r?{isValid:l}:{},errors:s.errors}),a.shouldFocus&&!h&&Ve(i,_e,r?c:f.mount),h},ke=(r,a)=>{let l={...d.mount?n:o};return a&&(l=wt(a.dirtyFields?s.dirtyFields:s.touchedFields,l)),C(r)?l:$(r)?y(l,r):r.map(h=>y(l,h))},Ye=(r,a)=>({invalid:!!y((a||s).errors,r),isDirty:!!y((a||s).dirtyFields,r),error:y((a||s).errors,r),isValidating:!!y(s.validatingFields,r),isTouched:!!y((a||s).touchedFields,r)}),Ot=r=>{r&&Fe(r).forEach(a=>O(s.errors,a)),g.state.next({errors:r?s.errors:{}})},Xe=(r,a,l)=>{const h=(y(i,r,{_f:{}})._f||{}).ref,c=y(s.errors,r)||{},{ref:u,message:b,type:F,...w}=c;S(s.errors,r,{...w,...a,ref:h}),g.state.next({name:r,errors:s.errors,isValid:!1}),l&&l.shouldFocus&&h&&h.focus&&h.focus()},Ct=(r,a)=>J(r)?g.state.subscribe({next:l=>"values"in l&&r(v(void 0,a),l)}):v(r,a,!0),Ze=r=>g.state.subscribe({next:a=>{fs(r.name,a.name,r.exact)&&ds(a,r.formState||m,Mt,r.reRenderRoot)&&r.callback({values:{...n},...s,...a,defaultValues:o})}}).unsubscribe,Nt=r=>(d.mount=!0,A={...A,...r.formState},Ze({...r,formState:A})),Te=(r,a={})=>{for(const l of r?Fe(r):f.mount)f.mount.delete(l),f.array.delete(l),a.keepValue||(O(i,l),O(n,l)),!a.keepError&&O(s.errors,l),!a.keepDirty&&O(s.dirtyFields,l),!a.keepTouched&&O(s.touchedFields,l),!a.keepIsValidating&&O(s.validatingFields,l),!t.shouldUnregister&&!a.keepDefaultValue&&O(o,l);g.state.next({values:M(n)}),g.state.next({...s,...a.keepDirty?{isDirty:Q()}:{}}),!a.keepIsValid&&T()},Ge=({disabled:r,name:a})=>{(X(r)&&d.mount||r||f.disabled.has(a))&&(r?f.disabled.add(a):f.disabled.delete(a))},Re=(r,a={})=>{let l=y(i,r);const h=X(a.disabled)||X(t.disabled);return S(i,r,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:r}},name:r,mount:!0,...a}}),f.mount.add(r),l?Ge({disabled:X(a.disabled)?a.disabled:t.disabled,name:r}):z(r,!0,a.value),{...h?{disabled:a.disabled||t.disabled}:{},...t.progressive?{required:!!a.required,min:xe(a.min),max:xe(a.max),minLength:xe(a.minLength),maxLength:xe(a.maxLength),pattern:xe(a.pattern)}:{},name:r,onChange:Y,onBlur:Y,ref:c=>{if(c){Re(r,a),l=y(i,r);const u=C(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,b=is(u),F=l._f.refs||[];if(b?F.find(w=>w===u):u===l._f.ref)return;S(i,r,{_f:{...l._f,...b?{refs:[...F.filter(Ie),u,...Array.isArray(y(o,r))?[{}]:[]],ref:{type:u.type,name:r}}:{ref:u}}}),z(r,!1,void 0,u)}else l=y(i,r,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||a.shouldUnregister)&&!(Xt(f.array,r)&&d.action)&&f.unMount.add(r)}}},Me=()=>t.shouldFocusError&&Ve(i,_e,f.mount),pt=r=>{X(r)&&(g.state.next({disabled:r}),Ve(i,(a,l)=>{const h=y(i,l);h&&(a.disabled=h._f.disabled||r,Array.isArray(h._f.refs)&&h._f.refs.forEach(c=>{c.disabled=h._f.disabled||r}))},0,!1))},et=(r,a)=>async l=>{let h;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=M(n);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:u,values:b}=await le();s.errors=u,c=M(b)}else await K(i);if(f.disabled.size)for(const u of f.disabled)O(c,u);if(O(s.errors,"root"),P(s.errors)){g.state.next({errors:{}});try{await r(c,l)}catch(u){h=u}}else a&&await a({...s.errors},l),Me(),setTimeout(Me);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:P(s.errors)&&!h,submitCount:s.submitCount+1,errors:s.errors}),h)throw h},Tt=(r,a={})=>{y(i,r)&&(C(a.defaultValue)?I(r,M(y(o,r))):(I(r,a.defaultValue),S(o,r,M(a.defaultValue))),a.keepTouched||O(s.touchedFields,r),a.keepDirty||(O(s.dirtyFields,r),s.isDirty=a.defaultValue?Q(r,M(y(o,r))):Q()),a.keepError||(O(s.errors,r),m.isValid&&T()),g.state.next({...s}))},tt=(r,a={})=>{const l=r?M(r):o,h=M(l),c=P(r),u=c?o:h;if(a.keepDefaultValues||(o=l),!a.keepValues){if(a.keepDirtyValues){const b=new Set([...f.mount,...Object.keys(ve(o,n))]);for(const F of Array.from(b))y(s.dirtyFields,F)?S(u,F,y(n,F)):I(F,y(u,F))}else{if(Ke&&C(r))for(const b of f.mount){const F=y(i,b);if(F&&F._f){const w=Array.isArray(F._f.refs)?F._f.refs[0]:F._f.ref;if(De(w)){const W=w.closest("form");if(W){W.reset();break}}}}if(a.keepFieldsRef)for(const b of f.mount)I(b,y(u,b));else i={}}n=t.shouldUnregister?a.keepDefaultValues?M(o):{}:M(u),g.array.next({values:{...u}}),g.state.next({values:{...u}})}f={mount:a.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!m.isValid||!!a.keepIsValid||!!a.keepDirtyValues,d.watch=!!t.shouldUnregister,g.state.next({submitCount:a.keepSubmitCount?s.submitCount:0,isDirty:c?!1:a.keepDirty?s.isDirty:!!(a.keepDefaultValues&&!oe(r,o)),isSubmitted:a.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:c?{}:a.keepDirtyValues?a.keepDefaultValues&&n?ve(o,n):s.dirtyFields:a.keepDefaultValues&&r?ve(o,r):a.keepDirty?s.dirtyFields:{},touchedFields:a.keepTouched?s.touchedFields:{},errors:a.keepErrors?s.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},st=(r,a)=>tt(J(r)?r(n):r,a),Rt=(r,a={})=>{const l=y(i,r),h=l&&l._f;if(h){const c=h.refs?h.refs[0]:h.ref;c.focus&&(c.focus(),a.shouldSelect&&J(c.select)&&c.select())}},Mt=r=>{s={...s,...r}},rt={control:{register:Re,unregister:Te,getFieldState:Ye,handleSubmit:et,setError:Xe,_subscribe:Ze,_runSchema:le,_focusError:Me,_getWatch:v,_getDirty:Q,_setValid:T,_setFieldArray:Ne,_setDisabledField:Ge,_setErrors:Z,_getFieldArray:V,_reset:tt,_resetDefaultValues:()=>J(t.defaultValues)&&t.defaultValues().then(r=>{st(r,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:ce,_disableForm:pt,_subjects:g,_proxyFormState:m,get _fields(){return i},get _formValues(){return n},get _state(){return d},set _state(r){d=r},get _defaultValues(){return o},get _names(){return f},set _names(r){f=r},get _formState(){return s},get _options(){return t},set _options(r){t={...t,...r}}},subscribe:Nt,trigger:fe,register:Re,handleSubmit:et,watch:Ct,setValue:I,getValues:ke,reset:st,resetField:Tt,clearErrors:Ot,unregister:Te,setError:Xe,setFocus:Rt,getFieldState:Ye};return{...rt,formControl:rt}}function ms(e={}){const t=q.useRef(void 0),s=q.useRef(void 0),[i,o]=q.useState({isDirty:!1,isValidating:!1,isLoading:J(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:J(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:i},e.defaultValues&&!J(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...f}=vs(e);t.current={...f,formState:i}}const n=t.current.control;return n._options=e,ts(()=>{const d=n._subscribe({formState:n._proxyFormState,callback:()=>o({...n._formState}),reRenderRoot:!0});return o(f=>({...f,isReady:!0})),n._formState.isReady=!0,d},[n]),q.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),q.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),q.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),q.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),q.useEffect(()=>{if(n._proxyFormState.isDirty){const d=n._getDirty();d!==i.isDirty&&n._subjects.state.next({isDirty:d})}},[n,i.isDirty]),q.useEffect(()=>{e.values&&!oe(e.values,s.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),s.current=e.values,o(d=>({...d}))):n._resetDefaultValues()},[n,e.values]),q.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),t.current.formState=es(i,n),t.current}const _s={},Be=se.forwardRef(function({className:t,...s},i){return x.jsx("input",{ref:i,className:`${_s.input} ${t??""}`,...s})}),xs={},Fs=se.forwardRef(function({className:t,rows:s=4,...i},o){return x.jsx("textarea",{ref:o,className:`${xs.textarea} ${t??""}`,rows:s,...i})}),Vs={},ws=se.forwardRef(function({className:t,...s},i){return x.jsx("input",{ref:i,type:"checkbox",className:`${Vs.checkbox} ${t??""}`,...s})});function As(e){return zt({mutationFn:async t=>{await new Promise(i=>setTimeout(i,800));const s=JSON.parse(localStorage.getItem("form_submissions")||"[]");return s.push({type:e,values:t,at:new Date().toISOString()}),localStorage.setItem("form_submissions",JSON.stringify(s)),{ok:!0}}})}const ks="_stack_1bsi5_1",Ss="_field_1bsi5_7",Es="_label_1bsi5_13",Ds="_control_1bsi5_19",Os="_textarea_1bsi5_29",Cs="_file_1bsi5_38",Ns="_consent_1bsi5_42",ps="_submit_1bsi5_50",Ts="_ok_1bsi5_58",E={stack:ks,field:Ss,label:Es,control:Ds,textarea:Os,file:Cs,consent:Ns,submit:ps,ok:Ts};function Rs({type:e}){const{register:t,handleSubmit:s,formState:{isSubmitting:i,isSubmitSuccessful:o},reset:n}=ms({defaultValues:{consent:!1}}),{mutateAsync:d}=As(e),f=e!=="callback",p=e==="resume";return x.jsxs("form",{className:E.form,onSubmit:s(async L=>{await d(L),n()}),children:[x.jsxs("div",{className:E.stack,children:[x.jsxs("div",{className:E.field,children:[x.jsx("label",{className:E.label,children:"Имя"}),x.jsx(Be,{className:E.control,placeholder:"Alexander",...t("name",{required:!0})})]}),x.jsxs("div",{className:E.field,children:[x.jsx("label",{className:E.label,children:"Номер телефона"}),x.jsx(Be,{className:E.control,placeholder:"+7 (999) 000-0000",...t("phone",{required:!0})})]}),f&&x.jsxs("div",{className:E.field,children:[x.jsx("label",{className:E.label,children:"Email"}),x.jsx(Be,{className:E.control,placeholder:"example@mail.ru",...t("email")})]}),f&&x.jsxs("div",{className:E.field,children:[x.jsx("label",{className:E.label,children:"Сообщение"}),x.jsx(Fs,{className:`${E.control} ${E.textarea}`,placeholder:"Коротко опишите запрос",...t("message")})]}),p&&x.jsxs("div",{className:E.field,children:[x.jsx("label",{className:E.label,children:"Резюме (файл)"}),x.jsx("input",{className:`${E.control} ${E.file}`,type:"file",...t("file")})]})]}),x.jsxs("label",{className:E.consent,children:[x.jsx(ws,{...t("consent",{required:!0})}),x.jsx("span",{children:"Я соглашаюсь с политикой конфиденциальности"})]}),x.jsx(Ht,{className:E.submit,disabled:i,children:"Оставить заявку"}),o&&x.jsx("div",{className:E.ok,children:"Заявка отправлена"})]})}const Ms="_head_x3tg0_1",Ls="_card_x3tg0_6",Pe={head:Ms,card:Ls};function qs({variant:e="default"}){const[t,s]=se.useState("callback"),i=[{value:"callback",label:"Обратный звонок"},{value:"resume",label:"Отправить резюме"},{value:"cooperate",label:"Обсудить сотрудничество"}];return x.jsxs("div",{className:Pe.embed,"data-bitrix-block":"FORM",children:[x.jsx("div",{className:Pe.head,children:"Мне нужно:"}),x.jsx(Kt,{items:i,value:t,onChange:o=>s(o)}),x.jsx("div",{className:Pe.card,children:x.jsx(Rs,{type:t})})]})}export{qs as T};
