var nt=e=>{throw TypeError(e)};var je=(e,t,s)=>t.has(e)||nt("Cannot "+s);var A=(e,t,s)=>(je(e,t,"read from private field"),s?s.call(e):t.get(e)),ye=(e,t,s)=>t.has(e)?nt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),he=(e,t,s,i)=>(je(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s),be=(e,t,s)=>(je(e,t,"access private method"),s);import{S as It,s as Bt,h as lt,g as Pt,n as Ft,c as qt,r as se,d as $t,e as Wt,R as q,j as V,N as Kt}from"./index-CwLYGdzy.js";import{T as Ht}from"./Tabs-C0JU4XnG.js";import{B as zt}from"./Button-fqvVklnv.js";var ee,ue,B,te,re,De,qe,xt,Jt=(xt=class extends It{constructor(t,s){super();ye(this,re);ye(this,ee);ye(this,ue);ye(this,B);ye(this,te);he(this,ee,t),this.setOptions(s),this.bindMethods(),be(this,re,De).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const s=this.options;this.options=A(this,ee).defaultMutationOptions(t),Bt(this.options,s)||A(this,ee).getMutationCache().notify({type:"observerOptionsUpdated",mutation:A(this,B),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&lt(s.mutationKey)!==lt(this.options.mutationKey)?this.reset():((i=A(this,B))==null?void 0:i.state.status)==="pending"&&A(this,B).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=A(this,B))==null||t.removeObserver(this)}onMutationUpdate(t){be(this,re,De).call(this),be(this,re,qe).call(this,t)}getCurrentResult(){return A(this,ue)}reset(){var t;(t=A(this,B))==null||t.removeObserver(this),he(this,B,void 0),be(this,re,De).call(this),be(this,re,qe).call(this)}mutate(t,s){var i;return he(this,te,s),(i=A(this,B))==null||i.removeObserver(this),he(this,B,A(this,ee).getMutationCache().build(A(this,ee),this.options)),A(this,B).addObserver(this),A(this,B).execute(t)}},ee=new WeakMap,ue=new WeakMap,B=new WeakMap,te=new WeakMap,re=new WeakSet,De=function(){var s;const t=((s=A(this,B))==null?void 0:s.state)??Pt();he(this,ue,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},qe=function(t){Ft.batch(()=>{var s,i,o,l,d,f,p,M;if(A(this,te)&&this.hasListeners()){const m=A(this,ue).variables,k=A(this,ue).context,g={client:A(this,ee),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((i=(s=A(this,te)).onSuccess)==null||i.call(s,t.data,m,k,g),(l=(o=A(this,te)).onSettled)==null||l.call(o,t.data,null,m,k,g)):(t==null?void 0:t.type)==="error"&&((f=(d=A(this,te)).onError)==null||f.call(d,t.error,m,k,g),(M=(p=A(this,te)).onSettled)==null||M.call(p,void 0,t.error,m,k,g))}this.listeners.forEach(m=>{m(A(this,ue))})})},xt);function Qt(e,t){const s=qt(),[i]=se.useState(()=>new Jt(s,e));se.useEffect(()=>{i.setOptions(e)},[i,e]);const o=se.useSyncExternalStore(se.useCallback(d=>i.subscribe(Ft.batchCalls(d)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=se.useCallback((d,f)=>{i.mutate(d,f).catch($t)},[i]);if(o.error&&Wt(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}var we=e=>e.type==="checkbox",de=e=>e instanceof Date,j=e=>e==null;const Vt=e=>typeof e=="object";var C=e=>!j(e)&&!Array.isArray(e)&&Vt(e)&&!de(e),Yt=e=>C(e)&&e.target?we(e.target)?e.target.checked:e.target.value:e,Xt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Zt=(e,t)=>e.has(Xt(t)),Gt=e=>{const t=e.constructor&&e.constructor.prototype;return C(t)&&t.hasOwnProperty("isPrototypeOf")},Ke=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function R(e){let t;const s=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Ke&&(e instanceof Blob||i))&&(s||C(e)))if(t=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!Gt(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=R(e[o]));else return e;return t}var Ce=e=>/^\w*$/.test(e),O=e=>e===void 0,He=e=>Array.isArray(e)?e.filter(Boolean):[],ze=e=>He(e.replace(/["|']|\]/g,"").split(/\.|\[/)),h=(e,t,s)=>{if(!t||!C(e))return s;const i=(Ce(t)?[t]:ze(t)).reduce((o,l)=>j(o)?o:o[l],e);return O(i)||i===e?O(e[t])?s:e[t]:i},X=e=>typeof e=="boolean",S=(e,t,s)=>{let i=-1;const o=Ce(t)?[t]:ze(t),l=o.length,d=l-1;for(;++i<l;){const f=o[i];let p=s;if(i!==d){const M=e[f];p=C(M)||Array.isArray(M)?M:isNaN(+o[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=p,e=e[f]}};const ot={BLUR:"blur",FOCUS_OUT:"focusout"},H={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},G={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},es=q.createContext(null);es.displayName="HookFormContext";var ts=(e,t,s,i=!0)=>{const o={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(o,l,{get:()=>{const d=l;return t._proxyFormState[d]!==H.all&&(t._proxyFormState[d]=!i||H.all),e[d]}});return o};const ss=typeof window<"u"?q.useLayoutEffect:q.useEffect;var $=e=>typeof e=="string",rs=(e,t,s,i,o)=>$(e)?(i&&t.watch.add(e),h(s,e,o)):Array.isArray(e)?e.map(l=>(i&&t.watch.add(l),h(s,l))):(i&&(t.watchAll=!0),s),$e=e=>j(e)||!Vt(e);function oe(e,t,s=new WeakSet){if($e(e)||$e(t))return e===t;if(de(e)&&de(t))return e.getTime()===t.getTime();const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const l of i){const d=e[l];if(!o.includes(l))return!1;if(l!=="ref"){const f=t[l];if(de(d)&&de(f)||C(d)&&C(f)||Array.isArray(d)&&Array.isArray(f)?!oe(d,f,s):d!==f)return!1}}return!0}var is=(e,t,s,i,o)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[i]:o||!0}}:{},Fe=e=>Array.isArray(e)?e:[e],ut=()=>{let e=[];return{get observers(){return e},next:o=>{for(const l of e)l.next&&l.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(l=>l!==o)}}),unsubscribe:()=>{e=[]}}};function wt(e,t){const s={};for(const i in e)if(e.hasOwnProperty(i)){const o=e[i],l=t[i];if(o&&C(o)&&l){const d=wt(o,l);C(d)&&(s[i]=d)}else e[i]&&(s[i]=l)}return s}var P=e=>C(e)&&!Object.keys(e).length,Je=e=>e.type==="file",z=e=>typeof e=="function",Ee=e=>{if(!Ke)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},kt=e=>e.type==="select-multiple",Qe=e=>e.type==="radio",as=e=>Qe(e)||we(e),Ie=e=>Ee(e)&&e.isConnected;function ns(e,t){const s=t.slice(0,-1).length;let i=0;for(;i<s;)e=O(e)?i++:e[t[i++]];return e}function ls(e){for(const t in e)if(e.hasOwnProperty(t)&&!O(e[t]))return!1;return!0}function E(e,t){const s=Array.isArray(t)?t:Ce(t)?[t]:ze(t),i=s.length===1?e:ns(e,s),o=s.length-1,l=s[o];return i&&delete i[l],o!==0&&(C(i)&&P(i)||Array.isArray(i)&&ls(i))&&E(e,s.slice(0,-1)),e}var os=e=>{for(const t in e)if(z(e[t]))return!0;return!1};function At(e){return Array.isArray(e)||C(e)&&!os(e)}function We(e,t={}){for(const s in e)At(e[s])?(t[s]=Array.isArray(e[s])?[]:{},We(e[s],t[s])):j(e[s])||(t[s]=!0);return t}function ve(e,t,s){s||(s=We(t));for(const i in e)At(e[i])?O(t)||$e(s[i])?s[i]=We(e[i],Array.isArray(e[i])?[]:{}):ve(e[i],j(t)?{}:t[i],s[i]):s[i]=!oe(e[i],t[i]);return s}const ct={value:!1,isValid:!1},dt={value:!0,isValid:!0};var St=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!O(e[0].attributes.value)?O(e[0].value)||e[0].value===""?dt:{value:e[0].value,isValid:!0}:dt:ct}return ct},Dt=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:i})=>O(e)?e:t?e===""?NaN:e&&+e:s&&$(e)?new Date(e):i?i(e):e;const ft={isValid:!1,value:null};var Et=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,ft):ft;function yt(e){const t=e.ref;return Je(t)?t.files:Qe(t)?Et(e.refs).value:kt(t)?[...t.selectedOptions].map(({value:s})=>s):we(t)?St(e.refs).value:Dt(O(t.value)?e.ref.value:t.value,e)}var us=(e,t,s,i)=>{const o={};for(const l of e){const d=h(t,l);d&&S(o,l,d._f)}return{criteriaMode:s,names:[...e],fields:o,shouldUseNativeValidation:i}},Oe=e=>e instanceof RegExp,xe=e=>O(e)?e:Oe(e)?e.source:C(e)?Oe(e.value)?e.value.source:e.value:e,ht=e=>({isOnSubmit:!e||e===H.onSubmit,isOnBlur:e===H.onBlur,isOnChange:e===H.onChange,isOnAll:e===H.all,isOnTouch:e===H.onTouched});const bt="AsyncFunction";var cs=e=>!!e&&!!e.validate&&!!(z(e.validate)&&e.validate.constructor.name===bt||C(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===bt)),ds=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),gt=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Ve=(e,t,s,i)=>{for(const o of s||Object.keys(e)){const l=h(e,o);if(l){const{_f:d,...f}=l;if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!i)return!0;if(d.ref&&t(d.ref,d.name)&&!i)return!0;if(Ve(f,t))break}else if(C(f)&&Ve(f,t))break}}};function vt(e,t,s){const i=h(e,s);if(i||Ce(s))return{error:i,name:s};const o=s.split(".");for(;o.length;){const l=o.join("."),d=h(t,l),f=h(e,l);if(d&&!Array.isArray(d)&&s!==l)return{name:s};if(f&&f.type)return{name:l,error:f};if(f&&f.root&&f.root.type)return{name:`${l}.root`,error:f.root};o.pop()}return{name:s}}var fs=(e,t,s,i)=>{s(e);const{name:o,...l}=e;return P(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(d=>t[d]===(!i||H.all))},ys=(e,t,s)=>!e||!t||e===t||Fe(e).some(i=>i&&(s?i===t:i.startsWith(t)||t.startsWith(i))),hs=(e,t,s,i,o)=>o.isOnAll?!1:!s&&o.isOnTouch?!(t||e):(s?i.isOnBlur:o.isOnBlur)?!e:(s?i.isOnChange:o.isOnChange)?e:!0,bs=(e,t)=>!He(h(e,t)).length&&E(e,t),gs=(e,t,s)=>{const i=Fe(h(e,s));return S(i,"root",t[s]),S(e,s,i),e};function mt(e,t,s="validate"){if($(e)||Array.isArray(e)&&e.every($)||X(e)&&!e)return{type:s,message:$(e)?e:"",ref:t}}var ge=e=>C(e)&&!Oe(e)?e:{value:e,message:""},_t=async(e,t,s,i,o,l)=>{const{ref:d,refs:f,required:p,maxLength:M,minLength:m,min:k,max:g,pattern:me,validate:ie,name:N,valueAsNumber:ae,mount:pe}=e._f,_=h(s,N);if(!pe||t.has(N))return{};const Z=f?f[0]:d,J=v=>{o&&Z.reportValidity&&(Z.setCustomValidity(X(v)?"":v||""),Z.reportValidity())},T={},ke=Qe(d),ne=we(d),Ne=ke||ne,K=(ae||Je(d))&&O(d.value)&&O(_)||Ee(d)&&d.value===""||_===""||Array.isArray(_)&&!_.length,ce=is.bind(null,N,i,T),Q=(v,F,D,U=G.maxLength,I=G.minLength)=>{const Y=v?F:D;T[N]={type:v?U:I,message:Y,ref:d,...ce(v?U:I,Y)}};if(l?!Array.isArray(_)||!_.length:p&&(!Ne&&(K||j(_))||X(_)&&!_||ne&&!St(f).isValid||ke&&!Et(f).isValid)){const{value:v,message:F}=$(p)?{value:!!p,message:p}:ge(p);if(v&&(T[N]={type:G.required,message:F,ref:Z,...ce(G.required,F)},!i))return J(F),T}if(!K&&(!j(k)||!j(g))){let v,F;const D=ge(g),U=ge(k);if(!j(_)&&!isNaN(_)){const I=d.valueAsNumber||_&&+_;j(D.value)||(v=I>D.value),j(U.value)||(F=I<U.value)}else{const I=d.valueAsDate||new Date(_),Y=Ae=>new Date(new Date().toDateString()+" "+Ae),_e=d.type=="time",fe=d.type=="week";$(D.value)&&_&&(v=_e?Y(_)>Y(D.value):fe?_>D.value:I>new Date(D.value)),$(U.value)&&_&&(F=_e?Y(_)<Y(U.value):fe?_<U.value:I<new Date(U.value))}if((v||F)&&(Q(!!v,D.message,U.message,G.max,G.min),!i))return J(T[N].message),T}if((M||m)&&!K&&($(_)||l&&Array.isArray(_))){const v=ge(M),F=ge(m),D=!j(v.value)&&_.length>+v.value,U=!j(F.value)&&_.length<+F.value;if((D||U)&&(Q(D,v.message,F.message),!i))return J(T[N].message),T}if(me&&!K&&$(_)){const{value:v,message:F}=ge(me);if(Oe(v)&&!_.match(v)&&(T[N]={type:G.pattern,message:F,ref:d,...ce(G.pattern,F)},!i))return J(F),T}if(ie){if(z(ie)){const v=await ie(_,s),F=mt(v,Z);if(F&&(T[N]={...F,...ce(G.validate,F.message)},!i))return J(F.message),T}else if(C(ie)){let v={};for(const F in ie){if(!P(v)&&!i)break;const D=mt(await ie[F](_,s),Z,F);D&&(v={...D,...ce(F,D.message)},J(D.message),i&&(T[N]=v))}if(!P(v)&&(T[N]={ref:Z,...v},!i))return T}}return J(!0),T};const vs={mode:H.onSubmit,reValidateMode:H.onChange,shouldFocusError:!0};function ms(e={}){let t={...vs,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:z(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},o=C(t.defaultValues)||C(t.values)?R(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:R(o),d={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,M=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let k={...m};const g={array:ut(),state:ut()},me=t.criteriaMode===H.all,ie=r=>a=>{clearTimeout(M),M=setTimeout(r,a)},N=async r=>{if(!t.disabled&&(m.isValid||k.isValid||r)){const a=t.resolver?P((await ne()).errors):await K(i,!0);a!==s.isValid&&g.state.next({isValid:a})}},ae=(r,a)=>{!t.disabled&&(m.isValidating||m.validatingFields||k.isValidating||k.validatingFields)&&((r||Array.from(f.mount)).forEach(n=>{n&&(a?S(s.validatingFields,n,a):E(s.validatingFields,n))}),g.state.next({validatingFields:s.validatingFields,isValidating:!P(s.validatingFields)}))},pe=(r,a=[],n,y,c=!0,u=!0)=>{if(y&&n&&!t.disabled){if(d.action=!0,u&&Array.isArray(h(i,r))){const b=n(h(i,r),y.argA,y.argB);c&&S(i,r,b)}if(u&&Array.isArray(h(s.errors,r))){const b=n(h(s.errors,r),y.argA,y.argB);c&&S(s.errors,r,b),bs(s.errors,r)}if((m.touchedFields||k.touchedFields)&&u&&Array.isArray(h(s.touchedFields,r))){const b=n(h(s.touchedFields,r),y.argA,y.argB);c&&S(s.touchedFields,r,b)}(m.dirtyFields||k.dirtyFields)&&(s.dirtyFields=ve(o,l)),g.state.next({name:r,isDirty:Q(r,a),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else S(l,r,a)},_=(r,a)=>{S(s.errors,r,a),g.state.next({errors:s.errors})},Z=r=>{s.errors=r,g.state.next({errors:s.errors,isValid:!1})},J=(r,a,n,y)=>{const c=h(i,r);if(c){const u=h(l,r,O(n)?h(o,r):n);O(u)||y&&y.defaultChecked||a?S(l,r,a?u:yt(c._f)):D(r,u),d.mount&&N()}},T=(r,a,n,y,c)=>{let u=!1,b=!1;const x={name:r};if(!t.disabled){if(!n||y){(m.isDirty||k.isDirty)&&(b=s.isDirty,s.isDirty=x.isDirty=Q(),u=b!==x.isDirty);const w=oe(h(o,r),a);b=!!h(s.dirtyFields,r),w?E(s.dirtyFields,r):S(s.dirtyFields,r,!0),x.dirtyFields=s.dirtyFields,u=u||(m.dirtyFields||k.dirtyFields)&&b!==!w}if(n){const w=h(s.touchedFields,r);w||(S(s.touchedFields,r,n),x.touchedFields=s.touchedFields,u=u||(m.touchedFields||k.touchedFields)&&w!==n)}u&&c&&g.state.next(x)}return u?x:{}},ke=(r,a,n,y)=>{const c=h(s.errors,r),u=(m.isValid||k.isValid)&&X(a)&&s.isValid!==a;if(t.delayError&&n?(p=ie(()=>_(r,n)),p(t.delayError)):(clearTimeout(M),p=null,n?S(s.errors,r,n):E(s.errors,r)),(n?!oe(c,n):c)||!P(y)||u){const b={...y,...u&&X(a)?{isValid:a}:{},errors:s.errors,name:r};s={...s,...b},g.state.next(b)}},ne=async r=>{ae(r,!0);const a=await t.resolver(l,t.context,us(r||f.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return ae(r),a},Ne=async r=>{const{errors:a}=await ne(r);if(r)for(const n of r){const y=h(a,n);y?S(s.errors,n,y):E(s.errors,n)}else s.errors=a;return a},K=async(r,a,n={valid:!0})=>{for(const y in r){const c=r[y];if(c){const{_f:u,...b}=c;if(u){const x=f.array.has(u.name),w=c._f&&cs(c._f);w&&m.validatingFields&&ae([u.name],!0);const W=await _t(c,f.disabled,l,me,t.shouldUseNativeValidation&&!a,x);if(w&&m.validatingFields&&ae([u.name]),W[u.name]&&(n.valid=!1,a))break;!a&&(h(W,u.name)?x?gs(s.errors,W,u.name):S(s.errors,u.name,W[u.name]):E(s.errors,u.name))}!P(b)&&await K(b,a,n)}}return n.valid},ce=()=>{for(const r of f.unMount){const a=h(i,r);a&&(a._f.refs?a._f.refs.every(n=>!Ie(n)):!Ie(a._f.ref))&&Te(r)}f.unMount=new Set},Q=(r,a)=>!t.disabled&&(r&&a&&S(l,r,a),!oe(Ae(),o)),v=(r,a,n)=>rs(r,f,{...d.mount?l:O(a)?o:$(r)?{[r]:a}:a},n,a),F=r=>He(h(d.mount?l:o,r,t.shouldUnregister?h(o,r,[]):[])),D=(r,a,n={})=>{const y=h(i,r);let c=a;if(y){const u=y._f;u&&(!u.disabled&&S(l,r,Dt(a,u)),c=Ee(u.ref)&&j(a)?"":a,kt(u.ref)?[...u.ref.options].forEach(b=>b.selected=c.includes(b.value)):u.refs?we(u.ref)?u.refs.forEach(b=>{(!b.defaultChecked||!b.disabled)&&(Array.isArray(c)?b.checked=!!c.find(x=>x===b.value):b.checked=c===b.value||!!c)}):u.refs.forEach(b=>b.checked=b.value===c):Je(u.ref)?u.ref.value="":(u.ref.value=c,u.ref.type||g.state.next({name:r,values:R(l)})))}(n.shouldDirty||n.shouldTouch)&&T(r,c,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&fe(r)},U=(r,a,n)=>{for(const y in a){if(!a.hasOwnProperty(y))return;const c=a[y],u=r+"."+y,b=h(i,u);(f.array.has(r)||C(c)||b&&!b._f)&&!de(c)?U(u,c,n):D(u,c,n)}},I=(r,a,n={})=>{const y=h(i,r),c=f.array.has(r),u=R(a);S(l,r,u),c?(g.array.next({name:r,values:R(l)}),(m.isDirty||m.dirtyFields||k.isDirty||k.dirtyFields)&&n.shouldDirty&&g.state.next({name:r,dirtyFields:ve(o,l),isDirty:Q(r,u)})):y&&!y._f&&!j(u)?U(r,u,n):D(r,u,n),gt(r,f)&&g.state.next({...s,name:r}),g.state.next({name:d.mount?r:void 0,values:R(l)})},Y=async r=>{d.mount=!0;const a=r.target;let n=a.name,y=!0;const c=h(i,n),u=w=>{y=Number.isNaN(w)||de(w)&&isNaN(w.getTime())||oe(w,h(l,n,w))},b=ht(t.mode),x=ht(t.reValidateMode);if(c){let w,W;const Se=a.type?yt(c._f):Yt(r),le=r.type===ot.BLUR||r.type===ot.FOCUS_OUT,Mt=!ds(c._f)&&!t.resolver&&!h(s.errors,n)&&!c._f.deps||hs(le,h(s.touchedFields,n),s.isSubmitted,x,b),Me=gt(n,f,le);S(l,n,Se),le?(!a||!a.readOnly)&&(c._f.onBlur&&c._f.onBlur(r),p&&p(0)):c._f.onChange&&c._f.onChange(r);const Ue=T(n,Se,le),Ut=!P(Ue)||Me;if(!le&&g.state.next({name:n,type:r.type,values:R(l)}),Mt)return(m.isValid||k.isValid)&&(t.mode==="onBlur"?le&&N():le||N()),Ut&&g.state.next({name:n,...Me?{}:Ue});if(!le&&Me&&g.state.next({...s}),t.resolver){const{errors:it}=await ne([n]);if(u(Se),y){const jt=vt(s.errors,i,n),at=vt(it,i,jt.name||n);w=at.error,n=at.name,W=P(it)}}else ae([n],!0),w=(await _t(c,f.disabled,l,me,t.shouldUseNativeValidation))[n],ae([n]),u(Se),y&&(w?W=!1:(m.isValid||k.isValid)&&(W=await K(i,!0)));y&&(c._f.deps&&(!Array.isArray(c._f.deps)||c._f.deps.length>0)&&fe(c._f.deps),ke(n,W,w,Ue))}},_e=(r,a)=>{if(h(s.errors,a)&&r.focus)return r.focus(),1},fe=async(r,a={})=>{let n,y;const c=Fe(r);if(t.resolver){const u=await Ne(O(r)?r:c);n=P(u),y=r?!c.some(b=>h(u,b)):n}else r?(y=(await Promise.all(c.map(async u=>{const b=h(i,u);return await K(b&&b._f?{[u]:b}:b)}))).every(Boolean),!(!y&&!s.isValid)&&N()):y=n=await K(i);return g.state.next({...!$(r)||(m.isValid||k.isValid)&&n!==s.isValid?{}:{name:r},...t.resolver||!r?{isValid:n}:{},errors:s.errors}),a.shouldFocus&&!y&&Ve(i,_e,r?c:f.mount),y},Ae=(r,a)=>{let n={...d.mount?l:o};return a&&(n=wt(a.dirtyFields?s.dirtyFields:s.touchedFields,n)),O(r)?n:$(r)?h(n,r):r.map(y=>h(n,y))},Ye=(r,a)=>({invalid:!!h((a||s).errors,r),isDirty:!!h((a||s).dirtyFields,r),error:h((a||s).errors,r),isValidating:!!h(s.validatingFields,r),isTouched:!!h((a||s).touchedFields,r)}),Ot=r=>{r&&Fe(r).forEach(a=>E(s.errors,a)),g.state.next({errors:r?s.errors:{}})},Xe=(r,a,n)=>{const y=(h(i,r,{_f:{}})._f||{}).ref,c=h(s.errors,r)||{},{ref:u,message:b,type:x,...w}=c;S(s.errors,r,{...w,...a,ref:y}),g.state.next({name:r,errors:s.errors,isValid:!1}),n&&n.shouldFocus&&y&&y.focus&&y.focus()},Ct=(r,a)=>z(r)?g.state.subscribe({next:n=>"values"in n&&r(v(void 0,a),n)}):v(r,a,!0),Ze=r=>g.state.subscribe({next:a=>{ys(r.name,a.name,r.exact)&&fs(a,r.formState||m,Lt,r.reRenderRoot)&&r.callback({values:{...l},...s,...a,defaultValues:o})}}).unsubscribe,pt=r=>(d.mount=!0,k={...k,...r.formState},Ze({...r,formState:k})),Te=(r,a={})=>{for(const n of r?Fe(r):f.mount)f.mount.delete(n),f.array.delete(n),a.keepValue||(E(i,n),E(l,n)),!a.keepError&&E(s.errors,n),!a.keepDirty&&E(s.dirtyFields,n),!a.keepTouched&&E(s.touchedFields,n),!a.keepIsValidating&&E(s.validatingFields,n),!t.shouldUnregister&&!a.keepDefaultValue&&E(o,n);g.state.next({values:R(l)}),g.state.next({...s,...a.keepDirty?{isDirty:Q()}:{}}),!a.keepIsValid&&N()},Ge=({disabled:r,name:a})=>{(X(r)&&d.mount||r||f.disabled.has(a))&&(r?f.disabled.add(a):f.disabled.delete(a))},Re=(r,a={})=>{let n=h(i,r);const y=X(a.disabled)||X(t.disabled);return S(i,r,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:r}},name:r,mount:!0,...a}}),f.mount.add(r),n?Ge({disabled:X(a.disabled)?a.disabled:t.disabled,name:r}):J(r,!0,a.value),{...y?{disabled:a.disabled||t.disabled}:{},...t.progressive?{required:!!a.required,min:xe(a.min),max:xe(a.max),minLength:xe(a.minLength),maxLength:xe(a.maxLength),pattern:xe(a.pattern)}:{},name:r,onChange:Y,onBlur:Y,ref:c=>{if(c){Re(r,a),n=h(i,r);const u=O(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,b=as(u),x=n._f.refs||[];if(b?x.find(w=>w===u):u===n._f.ref)return;S(i,r,{_f:{...n._f,...b?{refs:[...x.filter(Ie),u,...Array.isArray(h(o,r))?[{}]:[]],ref:{type:u.type,name:r}}:{ref:u}}}),J(r,!1,void 0,u)}else n=h(i,r,{}),n._f&&(n._f.mount=!1),(t.shouldUnregister||a.shouldUnregister)&&!(Zt(f.array,r)&&d.action)&&f.unMount.add(r)}}},Le=()=>t.shouldFocusError&&Ve(i,_e,f.mount),Nt=r=>{X(r)&&(g.state.next({disabled:r}),Ve(i,(a,n)=>{const y=h(i,n);y&&(a.disabled=y._f.disabled||r,Array.isArray(y._f.refs)&&y._f.refs.forEach(c=>{c.disabled=y._f.disabled||r}))},0,!1))},et=(r,a)=>async n=>{let y;n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let c=R(l);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:u,values:b}=await ne();s.errors=u,c=R(b)}else await K(i);if(f.disabled.size)for(const u of f.disabled)E(c,u);if(E(s.errors,"root"),P(s.errors)){g.state.next({errors:{}});try{await r(c,n)}catch(u){y=u}}else a&&await a({...s.errors},n),Le(),setTimeout(Le);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:P(s.errors)&&!y,submitCount:s.submitCount+1,errors:s.errors}),y)throw y},Tt=(r,a={})=>{h(i,r)&&(O(a.defaultValue)?I(r,R(h(o,r))):(I(r,a.defaultValue),S(o,r,R(a.defaultValue))),a.keepTouched||E(s.touchedFields,r),a.keepDirty||(E(s.dirtyFields,r),s.isDirty=a.defaultValue?Q(r,R(h(o,r))):Q()),a.keepError||(E(s.errors,r),m.isValid&&N()),g.state.next({...s}))},tt=(r,a={})=>{const n=r?R(r):o,y=R(n),c=P(r),u=c?o:y;if(a.keepDefaultValues||(o=n),!a.keepValues){if(a.keepDirtyValues){const b=new Set([...f.mount,...Object.keys(ve(o,l))]);for(const x of Array.from(b))h(s.dirtyFields,x)?S(u,x,h(l,x)):I(x,h(u,x))}else{if(Ke&&O(r))for(const b of f.mount){const x=h(i,b);if(x&&x._f){const w=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(Ee(w)){const W=w.closest("form");if(W){W.reset();break}}}}if(a.keepFieldsRef)for(const b of f.mount)I(b,h(u,b));else i={}}l=t.shouldUnregister?a.keepDefaultValues?R(o):{}:R(u),g.array.next({values:{...u}}),g.state.next({values:{...u}})}f={mount:a.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!m.isValid||!!a.keepIsValid||!!a.keepDirtyValues,d.watch=!!t.shouldUnregister,g.state.next({submitCount:a.keepSubmitCount?s.submitCount:0,isDirty:c?!1:a.keepDirty?s.isDirty:!!(a.keepDefaultValues&&!oe(r,o)),isSubmitted:a.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:c?{}:a.keepDirtyValues?a.keepDefaultValues&&l?ve(o,l):s.dirtyFields:a.keepDefaultValues&&r?ve(o,r):a.keepDirty?s.dirtyFields:{},touchedFields:a.keepTouched?s.touchedFields:{},errors:a.keepErrors?s.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},st=(r,a)=>tt(z(r)?r(l):r,a),Rt=(r,a={})=>{const n=h(i,r),y=n&&n._f;if(y){const c=y.refs?y.refs[0]:y.ref;c.focus&&(c.focus(),a.shouldSelect&&z(c.select)&&c.select())}},Lt=r=>{s={...s,...r}},rt={control:{register:Re,unregister:Te,getFieldState:Ye,handleSubmit:et,setError:Xe,_subscribe:Ze,_runSchema:ne,_focusError:Le,_getWatch:v,_getDirty:Q,_setValid:N,_setFieldArray:pe,_setDisabledField:Ge,_setErrors:Z,_getFieldArray:F,_reset:tt,_resetDefaultValues:()=>z(t.defaultValues)&&t.defaultValues().then(r=>{st(r,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:ce,_disableForm:Nt,_subjects:g,_proxyFormState:m,get _fields(){return i},get _formValues(){return l},get _state(){return d},set _state(r){d=r},get _defaultValues(){return o},get _names(){return f},set _names(r){f=r},get _formState(){return s},get _options(){return t},set _options(r){t={...t,...r}}},subscribe:pt,trigger:fe,register:Re,handleSubmit:et,watch:Ct,setValue:I,getValues:Ae,reset:st,resetField:Tt,clearErrors:Ot,unregister:Te,setError:Xe,setFocus:Rt,getFieldState:Ye};return{...rt,formControl:rt}}function _s(e={}){const t=q.useRef(void 0),s=q.useRef(void 0),[i,o]=q.useState({isDirty:!1,isValidating:!1,isLoading:z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:z(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:i},e.defaultValues&&!z(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...f}=ms(e);t.current={...f,formState:i}}const l=t.current.control;return l._options=e,ss(()=>{const d=l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0});return o(f=>({...f,isReady:!0})),l._formState.isReady=!0,d},[l]),q.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),q.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode)},[l,e.mode,e.reValidateMode]),q.useEffect(()=>{e.errors&&(l._setErrors(e.errors),l._focusError())},[l,e.errors]),q.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),q.useEffect(()=>{if(l._proxyFormState.isDirty){const d=l._getDirty();d!==i.isDirty&&l._subjects.state.next({isDirty:d})}},[l,i.isDirty]),q.useEffect(()=>{e.values&&!oe(e.values,s.current)?(l._reset(e.values,{keepFieldsRef:!0,...l._options.resetOptions}),s.current=e.values,o(d=>({...d}))):l._resetDefaultValues()},[l,e.values]),q.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),t.current.formState=ts(i,l),t.current}const xs={},Be=se.forwardRef(function({className:t,...s},i){return V.jsx("input",{ref:i,className:`${xs.input} ${t??""}`,...s})}),Fs="_textarea_1wa1z_1",Vs={textarea:Fs},ws=se.forwardRef(function({className:t,rows:s=4,...i},o){return V.jsx("textarea",{ref:o,className:`${Vs.textarea} ${t??""}`,rows:s,...i})}),ks="_checkbox_11x1x_1",As={checkbox:ks},Ss=se.forwardRef(function({className:t,...s},i){return V.jsx("input",{ref:i,type:"checkbox",className:`${As.checkbox} ${t??""}`,...s})});function Ds(e){return Qt({mutationFn:async t=>{await new Promise(i=>setTimeout(i,800));const s=JSON.parse(localStorage.getItem("form_submissions")||"[]");return s.push({type:e,values:t,at:new Date().toISOString()}),localStorage.setItem("form_submissions",JSON.stringify(s)),{ok:!0}}})}const Es="_stack_1oeym_1",Os="_field_1oeym_7",Cs="_label_1oeym_13",ps="_control_1oeym_20",Ns="_consent_1oeym_41",Ts="_submit_1oeym_60",Rs="_ok_1oeym_77",L={stack:Es,field:Os,label:Cs,control:ps,consent:Ns,submit:Ts,ok:Rs};function Ls({type:e}){const{register:t,handleSubmit:s,formState:{isSubmitting:i,isSubmitSuccessful:o},reset:l}=_s({defaultValues:{consent:!1}}),{mutateAsync:d}=Ds(e),f=e==="cooperate",p=e==="resume";return V.jsxs("form",{className:L.form,onSubmit:s(async M=>{await d(M),l()}),children:[V.jsxs("div",{className:L.stack,children:[V.jsxs("div",{className:L.field,children:[V.jsx("label",{className:L.label,children:"Имя"}),V.jsx(Be,{className:L.control,placeholder:"Alexander",...t("name",{required:!0})})]}),V.jsxs("div",{className:L.field,children:[V.jsx("label",{className:L.label,children:"Номер телефона"}),V.jsx(Be,{className:L.control,placeholder:"+7 (999) 000-0000",...t("phone",{required:!0})})]}),p&&V.jsxs("div",{className:L.field,children:[V.jsx("label",{className:L.label,children:"Ссылка на портфолио"}),V.jsx(Be,{className:L.control,placeholder:"https://msarchitects.ru/",...t("resume",{required:!0})})]}),f&&V.jsxs("div",{className:L.field,children:[V.jsx("label",{className:L.label,children:"Сообщение"}),V.jsx(ws,{placeholder:"Коротко опишите запрос",...t("message")})]})]}),V.jsxs("label",{className:L.consent,children:[V.jsx(Ss,{...t("consent",{required:!0})}),V.jsxs("span",{children:["Я соглашаюсь с ",V.jsx(Kt,{to:"/privacy",children:"политикой конфиденциальности"})]})]}),V.jsx(zt,{className:L.submit,disabled:i,children:"Оставить заявку"}),o&&V.jsx("div",{className:L.ok,children:"Заявка отправлена"})]})}const Ms="_head_1ku1d_1",Us="_card_1ku1d_10",Pe={head:Ms,card:Us};function $s({variant:e="default"}){const[t,s]=se.useState("callback"),i=[{value:"callback",label:"Обратный звонок"},{value:"resume",label:"Отправить резюме"},{value:"cooperate",label:"Обсудить сотрудничество"}];return V.jsxs("div",{className:Pe.embed,"data-bitrix-block":"FORM",children:[V.jsx("div",{className:Pe.head,children:"Мне нужно:"}),V.jsx(Ht,{items:i,value:t,onChange:o=>s(o)}),V.jsx("div",{className:Pe.card,children:V.jsx(Ls,{type:t})})]})}export{$s as T};
