import{r as c,u as g,a as _,j as s,L as f}from"./index-CW4-3BX_.js";import{S as x,A as h,P as b,a as j,N as y,b as w}from"./navigation-BJ002Eeo.js";import{B as v}from"./Button-BSP1N4tP.js";import{u as N}from"./queries-kmxlpA9a.js";import"./client-B4VHpez7.js";const S="_hero_um8sd_22",R="_slide_um8sd_38",P="_bg_um8sd_44",k="_inner_um8sd_52",E="_tag_um8sd_66",A="_title_um8sd_79",I="_text_um8sd_87",L="_button_um8sd_95",$="_pagination_um8sd_111",C="_bullet_um8sd_124",O="_progress_um8sd_141",r={hero:S,slide:R,bg:P,inner:k,tag:E,title:A,text:I,button:L,pagination:$,bullet:C,progress:O};function B({items:a}){const n=c.useRef(null),i=c.useRef(null),u=g(),{pathname:p}=_();return c.useEffect(()=>{var o;const e=((o=i.current)==null?void 0:o.swiper)??i.current;if(!e)return;const t=setTimeout(()=>e.update(),0);return()=>clearTimeout(t)},[p]),s.jsxs("section",{className:r.hero,"data-bitrix-block":"HERO_SLIDER",children:[s.jsx(x,{ref:i,modules:[h,b,j,y],slidesPerView:1,spaceBetween:0,loop:a.length>1,speed:700,watchOverflow:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,updateOnWindowResize:!0,autoplay:{delay:1e4,disableOnInteraction:!1,pauseOnMouseEnter:!0},simulateTouch:!0,grabCursor:!0,pagination:{clickable:!0,renderBullet:(e,t)=>`<span class="${t} ${r.bullet}" tabindex="0" aria-current="false">
               <i class="${r.progress}" data-progress></i>
             </span>`},onBeforeInit:e=>{e.params.pagination.el=n.current},onAfterInit:e=>e.update(),onResize:e=>e.update(),onImagesReady:e=>e.update(),onAutoplayTimeLeft:(e,t,o)=>{var m;const l=(m=n.current)==null?void 0:m.querySelector(".swiper-pagination-bullet-active"),d=l==null?void 0:l.querySelector("[data-progress]");d&&d.style.setProperty("--p",`${(1-o)*100}%`)},onSlideChange:()=>{var e;(e=n.current)==null||e.querySelectorAll("[data-progress]").forEach(t=>t.style.setProperty("--p","0%"))},children:a.map(e=>s.jsx(w,{children:s.jsxs("div",{className:r.slide,onClick:()=>u(`/projects/${e.slug}`),role:"link",tabIndex:0,onKeyDown:t=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),u(`/projects/${e.slug}`))},children:[s.jsx("img",{className:r.bg,src:e.cover,alt:e.title}),s.jsxs("div",{className:r.inner,children:[e.category&&s.jsx("span",{className:r.tag,children:e.category}),s.jsx("h1",{className:r.title,children:e.title}),e.excerpt&&s.jsx("p",{className:r.text,children:e.excerpt}),s.jsx(f,{to:"/projects",onClick:t=>t.stopPropagation(),className:r.cta,children:s.jsxs(v,{className:r.button,children:["Смотреть все",s.jsx("svg",{width:"8",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M7.75 7 1.5 13.25l-.875-.875L6 7 .625 1.625 1.5.75 7.75 7z",fill:"#fff"})})]})})]})]})},e.slug))},p),s.jsx("div",{className:r.pagination,ref:n})]})}function M(){const{data:a}=N({}),n=((a==null?void 0:a.items)??[]).slice(0,3);return s.jsx(B,{items:n})}export{M as default};
